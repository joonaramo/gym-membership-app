(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{327:function(e,t,a){},328:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a(33),n=a.n(s),c=a(8),i=a(2),l=a.n(i),o=a(6),d=a(7),u=a(12),m=a(336),x=a(337),b=a(341),j=a(17),p=a(15),h=a.n(p);function f(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}var g=function(e){e?h.a.defaults.headers.common.authorization="bearer ".concat(e):delete h.a.defaults.headers.common.authorization},O="https://whispering-waters-22674.herokuapp.com/api",y=a(331),v={login:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.next=3,h.a.post("".concat(O,"/auth/login"),t,a);case 3:return r=e.sent,s=r.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signup:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.next=3,h.a.post("".concat(O,"/auth/signup"),t,a);case 3:return r=e.sent,s=r.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=function(){var e=Object(o.a)(l.a.mark((function e(t,a){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(O,"/users"),{params:{page:t,limit:a}});case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(O,"/users/").concat(t));case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_={update:function(){var e=Object(o.a)(l.a.mark((function e(t,a){var r,s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"Content-Type":"application/json"}},e.next=3,h.a.patch("".concat(O,"/users/").concat(t),a,r);case 3:return s=e.sent,n=s.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),get:N,getAll:w},k=function(e,t,a){return function(){var r=Object(o.a)(l.a.mark((function r(s){var n;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=setTimeout((function(){s({type:"DELETE_NOTIFICATION"})}),t),s({type:"CREATE_NOTIFICATION",payload:{message:e,type:a,timeoutId:n}});case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},C=function(){return function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&g(localStorage.token),e.prev=1,e.next=4,h.a.get("".concat(O,"/users/me"));case 4:a=e.sent,r=a.data,t({type:"USER_LOADED",payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},E=function(){return function(e){e({type:"LOGOUT"})}},S={get:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(O,"/categories/").concat(t));case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(o.a)(l.a.mark((function e(t,a){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(O,"/categories"),{params:{page:t,limit:a}});case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),update:function(){var e=Object(o.a)(l.a.mark((function e(t,a){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put("".concat(O,"/categories/").concat(t),a);case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),create:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(O,"/categories"),t);case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(O,"/categories/").concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},P=function(){return function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.getAll();case 3:a=e.sent,t({type:"GET_ALL_CATEGORIES",payload:a}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(r=e.t0.response.data.errors)&&r.forEach((function(e){return t(k(e.msg,3e3))}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},U=function(e,t){return function(){var a=Object(o.a)(l.a.mark((function a(r){var s,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,S.create(e);case 3:s=a.sent,r({type:"CREATE_CATEGORY",payload:s}),t(!1),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),(n=a.t0.response.data.errors)&&n.forEach((function(e){return r(k(e.msg,3e3))}));case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},T=a(14),D=a(340),R=a(1),A=function(e){var t=e.isAuthenticated,a=e.logOut,s=e.links,n=e.buttons;return Object(R.jsx)(D.a,{as:"div",className:"ml-3 relative",children:function(e){var c=e.open;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{children:Object(R.jsxs)(D.a.Button,{className:"bg-gray-800 text-gray-400 hover:text-white flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[Object(R.jsx)("span",{className:"sr-only",children:"Open user menu"}),Object(R.jsx)(j.m,{className:"h-6 w-6","aria-hidden":"true"})]})}),Object(R.jsx)(b.a,{show:c,as:r.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(R.jsxs)(D.a.Items,{static:!0,className:"z-10 origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:[s.filter((function(e){return t?e.authLink:!e.authLink})).map((function(e){return Object(R.jsx)(D.a.Item,{children:function(t){var a=t.active;return Object(R.jsx)(u.b,{to:e.href,className:f(a?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"),children:e.name})}},e.name)})),n.filter((function(e){return t?e.authLink:!e.authLink})).map((function(e){return Object(R.jsx)(D.a.Item,{children:function(t){var r=t.active;return Object(R.jsx)("button",{onClick:"logOut"===e.onClick&&a,className:f(r?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"),children:e.name})}},e.name)}))]})})]})}})},I=[{name:"Log in",href:"/login",authLink:!1},{name:"Sign up",href:"/signup",authLink:!1},{name:"Your profile",href:"/profile",authLink:!0}],F=[{name:"Log out",onClick:"logOut",authLink:!0}],M=function e(t){var a,r=t.subCategory,s=t.ml;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("li",{className:"flex ml-".concat(s),children:Object(R.jsx)(u.b,{to:"/shop?category=".concat(r.id),className:"hover:text-gray-800",children:r.name})},r.name),null===(a=r.sub_categories)||void 0===a?void 0:a.map((function(t){return Object(R.jsx)(e,{ml:s+1,subCategory:t},t.id)}))]})},L=Object(d.b)((function(e){return{auth:e.auth,categories:e.category.allCategories}}),{logout:E,getAllCategories:P})((function(e){var t=e.auth,a=t.isAuthenticated,s=t.user,n=e.categories,c=e.getAllCategories,i=e.logout,d=Object(T.g)();Object(r.useEffect)((function(){c()}),[]);var p=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:d.push("/");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h={pages:[{name:"Home",to:"/"},{name:"About",href:"/#about"},{name:"Pricing",href:"/#pricing"},{name:"Find us",href:"/#find-us"}]};return Object(R.jsx)(m.a,{as:"nav",className:"bg-gray-800",children:function(e){var t=e.open;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(R.jsxs)("div",{className:"flex items-center justify-between h-16",children:[Object(R.jsxs)("div",{className:"flex items-center",children:[Object(R.jsxs)("div",{className:"flex-shrink-0",children:[Object(R.jsx)(u.b,{to:"/",children:Object(R.jsx)("img",{className:"block lg:hidden h-8 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-500.svg",alt:"Workflow"})}),Object(R.jsx)(u.b,{to:"/",children:Object(R.jsx)("img",{className:"hidden lg:block h-8 w-auto",src:"https://tailwindui.com/img/logos/workflow-logo-indigo-500-mark-white-text.svg",alt:"Workflow"})})]}),Object(R.jsx)(x.a.Group,{className:"hidden sm:block sm:ml-6",children:Object(R.jsxs)("div",{className:"flex",children:[h.pages.map((function(e){return e.href?Object(R.jsx)("a",{href:e.href,className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 mr-4 rounded-md text-sm font-medium",children:e.name},e.name):Object(R.jsx)(u.b,{to:e.to,className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 mr-4 rounded-md text-sm font-medium",children:e.name},e.name)})),null===n||void 0===n?void 0:n.filter((function(e){return!e.parent_category})).map((function(e){return Object(R.jsx)(x.a,{className:"flex",children:function(t){var a=t.open;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:"relative flex",children:e.sub_categories.length>0?Object(R.jsx)(x.a.Button,{className:f(a?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","mr-4 px-3 py-2 rounded-md text-sm font-medium"),children:e.name}):Object(R.jsx)(u.b,{to:"/shop?category=".concat(e.id),className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 mr-4 rounded-md text-sm font-medium",children:e.name},e.id)}),Object(R.jsx)(b.a,{as:r.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(R.jsxs)(x.a.Panel,{className:"absolute top-full inset-x-0 z-10 text-gray-500 sm:text-sm",children:[Object(R.jsx)("div",{className:"absolute inset-0 top-1/2 bg-white shadow","aria-hidden":"true"}),Object(R.jsx)("div",{className:"relative bg-white",children:Object(R.jsx)("div",{className:"max-w-7xl mx-auto px-8",children:Object(R.jsx)("div",{className:"grid grid-cols-1 items-start gap-y-10 gap-x-8 pt-10 pb-12",children:Object(R.jsx)("div",{className:"grid grid-cols-4 gap-y-10 gap-x-8",children:e.sub_categories.map((function(e){var t;return Object(R.jsxs)("div",{children:[Object(R.jsx)(u.b,{to:"/shop?category=".concat(e.id),id:"desktop-featured-heading-".concat(e.id),className:"font-medium text-gray-900",children:e.name}),Object(R.jsx)("ul",{"aria-labelledby":"desktop-featured-heading-".concat(e.id),className:"mt-6 space-y-6 sm:mt-4 sm:space-y-4",children:null===(t=e.sub_categories)||void 0===t?void 0:t.map((function(e){return Object(R.jsx)(M,{subCategory:e,ml:1},e.id)}))})]},e.id)}))})})})})]})})]})}},e.id)}))]})})]}),Object(R.jsx)("div",{className:"hidden sm:ml-6 sm:block",children:Object(R.jsxs)("div",{className:"flex items-center",children:[(null===s||void 0===s?void 0:s.is_admin)&&Object(R.jsx)(u.b,{to:"/admin",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 mr-4 rounded-md text-sm font-medium",children:"Admin Panel"}),Object(R.jsxs)(u.b,{to:"/cart",className:"bg-gray-800 p-1 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[Object(R.jsx)("span",{className:"sr-only",children:"Shopping Cart"}),Object(R.jsx)(j.i,{className:"h-6 w-6","aria-hidden":"true"})]}),Object(R.jsx)(A,{links:I,buttons:F,isAuthenticated:a,logOut:p})]})}),Object(R.jsx)("div",{className:"-mr-2 flex sm:hidden",children:Object(R.jsxs)(m.a.Button,{className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[Object(R.jsx)("span",{className:"sr-only",children:"Open main menu"}),t?Object(R.jsx)(j.p,{className:"block h-6 w-6","aria-hidden":"true"}):Object(R.jsx)(j.g,{className:"block h-6 w-6","aria-hidden":"true"})]})})]})}),Object(R.jsxs)(m.a.Panel,{className:"sm:hidden",children:[Object(R.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[Object(R.jsx)("a",{href:"/",className:"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium",children:"Home"}),Object(R.jsx)("a",{href:"/#about",className:"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium",children:"About"}),Object(R.jsx)("a",{href:"/#pricing",className:"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium",children:"Pricing"}),Object(R.jsx)("a",{href:"/#find-us",className:"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium",children:"Find us"})]}),Object(R.jsxs)("div",{className:"pt-4 pb-3 border-t border-gray-700",children:[Object(R.jsxs)("div",{className:"flex items-center px-5",children:[Object(R.jsx)("div",{className:"flex-shrink-0",children:Object(R.jsx)(j.m,{className:"h-8 w-8 text-gray-200","aria-hidden":"true"})}),Object(R.jsxs)("div",{className:"ml-3",children:[Object(R.jsxs)("div",{className:"text-base font-medium text-white",children:[null===s||void 0===s?void 0:s.first_name," ",null===s||void 0===s?void 0:s.last_name]}),Object(R.jsx)("div",{className:"text-sm font-medium text-gray-400",children:null===s||void 0===s?void 0:s.email})]}),Object(R.jsxs)(u.b,{to:"/cart",className:"ml-auto flex-shrink-0 bg-gray-800 p-1 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[Object(R.jsx)("span",{className:"sr-only",children:"View shopping cart"}),Object(R.jsx)(j.i,{className:"h-6 w-6","aria-hidden":"true"})]})]}),Object(R.jsxs)("div",{className:"mt-3 px-2 space-y-1",children:[I.filter((function(e){return a?e.authLink:!e.authLink})).map((function(e){return Object(R.jsx)(u.b,{to:e.href,className:"block px-3 py-2 rounded-md text-base font-medium text-gray-400 hover:text-white hover:bg-gray-700",children:e.name},e.name)})),F.filter((function(e){return a?e.authLink:!e.authLink})).map((function(e){return Object(R.jsx)("button",{onClick:"logOut"===e.onClick&&p,className:"block w-full text-left  px-3 py-2 rounded-md text-base font-medium text-gray-400 hover:text-white hover:bg-gray-700",children:e.name},e.name)}))]})]})]})]})}})})),H=a(16),G=function(){var e=Object(d.d)((function(e){return e.notification})),t=e.message,a=e.type,r=void 0===a?"ERROR":a,s=Object(d.c)();return t?Object(R.jsx)("div",{className:"z-50 fixed bottom-0 inset-x-0 pb-2 sm:pb-5",children:Object(R.jsx)("div",{className:f("SUCCESS"===r?"bg-green-500 text-green-50":"bg-red-400 text-red-100","rounded-md p-4 sm:mx-auto sm:w-full sm:max-w-md mt-8"),children:Object(R.jsxs)("div",{className:"flex",children:[Object(R.jsx)("div",{className:"flex-shrink-0",children:"ERROR"===r?Object(R.jsx)(H.e,{className:"h-5 w-5","aria-hidden":"true"}):Object(R.jsx)(H.i,{className:"h-5 w-5","aria-hidden":"true"})}),Object(R.jsxs)("div",{className:"ml-3",children:[Object(R.jsx)("h3",{className:"text-sm font-medium capitalize",children:"ERROR"===r?"Error":"Success"}),Object(R.jsx)("div",{className:"mt-2 text-sm",children:Object(R.jsx)("p",{children:t})})]}),Object(R.jsx)("div",{className:"ml-auto pl-3",children:Object(R.jsx)("div",{className:"-mx-1.5 -my-1.5",children:Object(R.jsxs)("button",{onClick:function(){return s(k("",0))},type:"button",className:f("SUCCESS"===r?"bg-green-500 text-green-50 hover:bg-green-400 focus:ring-offset-green-50 focus:ring-green-700":"bg-red-400 text-red-100 hover:bg-red-300 focus:ring-offset-red-50 focus:ring-red-600","inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2"),children:[Object(R.jsx)("span",{className:"sr-only",children:"Dismiss"}),Object(R.jsx)(H.m,{className:"h-5 w-5","aria-hidden":"true"})]})})})]})})}):null},q=function(){var e=Object(T.h)();return Object(R.jsxs)(R.Fragment,{children:[!e.pathname.includes("/admin")&&Object(R.jsx)(L,{}),Object(R.jsx)(G,{})]})},B=a(4),V=a(64),z=["component","auth"],J=Object(d.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,r=a.isAuthenticated,s=a.loading,n=Object(V.a)(e,z);return Object(R.jsx)(T.b,Object(B.a)(Object(B.a)({},n),{},{render:function(e){return r||s?Object(R.jsx)(t,Object(B.a)({},e)):Object(R.jsx)(T.a,{to:"/login"})}}))})),Y=a(20),W=a(9),Q={email:"",password:""},K=Y.d({email:Y.f().email("Invalid email address").required("Email is required"),password:Y.f().required("Password is required")}),X=Object(d.b)((function(e){return{auth:e.auth}}),{login:function(e){var t=e.email,a=e.password;return function(){var e=Object(o.a)(l.a.mark((function e(r){var s,n,c,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=JSON.stringify({email:t,password:a}),e.prev=1,e.next=4,v.login(s);case 4:n=e.sent,c=n.token,r({type:"LOGIN_SUCCESS",payload:c}),r(C()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),(o=null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i?void 0:i.data.errors)&&o.forEach((function(e){return r(k(e.msg,3e3))})),r({type:"LOGIN_FAIL"});case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},setNotification:k})((function(e){var t=e.auth.isAuthenticated,a=e.login,r=(e.setNotification,Object(T.g)()),s=function(){var e=Object(o.a)(l.a.mark((function e(t){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,s=t.password,e.next=3,a({email:r,password:s});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t&&r.push("/profile"),Object(R.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[Object(R.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[Object(R.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),Object(R.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Log in to your account"}),Object(R.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",Object(R.jsx)(u.b,{to:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"create a new account"})]})]}),Object(R.jsx)(G,{}),Object(R.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:Object(R.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:Object(R.jsx)(W.d,{initialValues:Q,validationSchema:K,onSubmit:function(e){s(e)},children:Object(R.jsxs)(W.c,{className:"space-y-6",children:[Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"email",children:"Email Address"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"email"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"password",children:"Password"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"password"})]}),Object(R.jsx)("div",{className:"flex items-center justify-between",children:Object(R.jsxs)("div",{className:"flex items-center",children:[Object(R.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),Object(R.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]})}),Object(R.jsx)("div",{children:Object(R.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Log in"})})]})})})})]})})),Z=a(88),$=a.n(Z),ee=function(e){var t=Object.assign({},e),a=Object(W.f)().setFieldValue,r=Object(W.e)(t),s=Object(c.a)(r,1)[0];return Object(R.jsx)($.a,Object(B.a)(Object(B.a)(Object(B.a)({},s),t),{},{selected:s.value&&new Date(s.value)||null,onChange:function(e){a(s.name,e)}}))},te={email:"",password:"",first_name:"",last_name:"",phone_number:"",street_address:"",postal_code:"",city:"",birth_date:new Date},ae=Y.d({email:Y.f().email("Invalid email address").required("Email is required"),password:Y.f().min(6,"Password must be at least 6 characters").required("Password is required"),password2:Y.f().oneOf([Y.e("password"),null],"Passwords do not match").required("Please repeat password"),first_name:Y.f().required("First name is required"),last_name:Y.f().required("Last name is required"),birth_date:Y.b().required("Birth date is required"),phone_number:Y.f().required("Phone number is required"),street_address:Y.f().required("Street address is required"),city:Y.f().required("City is required"),postal_code:Y.f().required("Postal code is required")}),re=Object(d.b)((function(e){return{auth:e.auth}}),{signup:function(e){var t=e.email,a=e.password,r=e.first_name,s=e.last_name,n=e.phone_number,c=e.street_address,i=e.postal_code,d=e.city,u=e.birth_date;return function(){var e=Object(o.a)(l.a.mark((function e(o){var m,x,b,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=JSON.stringify({email:t,password:a,first_name:r,last_name:s,phone_number:n,street_address:c,postal_code:i,city:d,birth_date:u}),e.prev=1,e.next=4,v.signup(m);case 4:x=e.sent,b=x.token,o({type:"REGISTER_SUCCESS",payload:b}),o(C()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),(j=e.t0.response.data.errors)&&j.forEach((function(e){return o(k(e.msg,3e3))})),o({type:"REGISTER_FAIL"});case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.auth.isAuthenticated,a=e.signup,r=Object(T.g)(),s=function(){var e=Object(o.a)(l.a.mark((function e(t){var s,n,c,i,o,d,u,m,x;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.email,n=t.password,c=t.first_name,i=t.last_name,o=t.phone_number,d=t.street_address,u=t.postal_code,m=t.city,x=t.birth_date,e.next=3,a({email:s,password:n,first_name:c,last_name:i,phone_number:o,street_address:d,postal_code:u,city:m,birth_date:Object(y.default)(x,"yyyy-MM-dd"),history:r});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t&&r.push("/profile"),Object(R.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[Object(R.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[Object(R.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),Object(R.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create a new account"}),Object(R.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have one?"," ",Object(R.jsx)(u.b,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Log in"})]})]}),Object(R.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:Object(R.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[Object(R.jsx)(W.d,{initialValues:te,validationSchema:ae,onSubmit:function(e){s(e)},children:Object(R.jsxs)(W.c,{className:"space-y-6",children:[Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"first_name",children:"First name"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"first_name",name:"first_name",type:"text",autoComplete:"first_name",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"first_name"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"last_name",children:"Last name"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"last_name",name:"last_name",type:"text",autoComplete:"last_name",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"last_name"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"birth_date",children:"Birth date"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(ee,{id:"birth_date",name:"birth_date",nextMonthButtonLabel:">",previousMonthButtonLabel:"<",dateFormat:"dd/MM/yyyy"})}),Object(R.jsx)(W.a,{name:"birth_date"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"phone_number",children:"Phone number"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"phone_number",name:"phone_number",type:"text",autoComplete:"phone_number",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"phone_number"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"street_address",children:"Street address"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"street_address",name:"street_address",type:"text",autoComplete:"street_address",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"street_address"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"city",children:"City"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"city",name:"city",type:"text",autoComplete:"city",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"city"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"postal_code",children:"Postal code"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"postal_code",name:"postal_code",type:"number",autoComplete:"postal_code",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"postal_code"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"email",children:"Email address"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"email"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"password",children:"Password"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"password"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"password2",children:"Repeat password"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"password2",name:"password2",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"password2"})]}),Object(R.jsx)("div",{children:Object(R.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign up"})})]})}),Object(R.jsx)(G,{})]})})]})})),se={get:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(O,"/klarna/").concat(t));case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.next=3,h.a.post("".concat(O,"/klarna"),t,a);case 3:return r=e.sent,s=r.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),confirm:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.next=3,h.a.post("".concat(O,"/klarna/confirm/").concat(t),{},a);case 3:return r=e.sent,s=r.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),capture:function(){var e=Object(o.a)(l.a.mark((function e(t,a){var r,s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"Content-Type":"application/json"}},e.next=3,h.a.post("".concat(O,"/klarna/capture/").concat(t),a,r);case 3:return s=e.sent,n=s.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},ne=function(){var e=Object(r.useState)(""),t=Object(c.a)(e,2),a=t[0],s=t[1];Object(r.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.get(localStorage.getItem("kco_id"));case 2:t=e.sent,a=t.html_snippet,s(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){!function(e){if(null===n)return;var t=document.createRange();t.selectNodeContents(n),t.deleteContents(),n.appendChild(t.createContextualFragment(e))}(a)}),[a]);var n=null;return Object(R.jsx)("div",{ref:function(e){return n=e},suppressHydrationWarning:!0})},ce=function(){var e=Object(r.useState)(""),t=Object(c.a)(e,2),a=t[0],s=t[1];Object(r.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se.confirm(localStorage.getItem("kco_id"));case 3:t=e.sent,a=t.html_snippet,s(a),localStorage.setItem("cart_products","[]"),localStorage.setItem("cart_quantities","[]"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){!function(e){if(null===n)return;var t=document.createRange();t.selectNodeContents(n),t.deleteContents(),n.appendChild(t.createContextualFragment(e))}(a)}),[a]);var n=null;return Object(R.jsx)("div",{ref:function(e){return n=e},suppressHydrationWarning:!0})},ie=function(){return Object(R.jsxs)("div",{className:"relative",children:[Object(R.jsx)("div",{className:"absolute inset-x-0 bottom-0 h-1/2 bg-gray-100"}),Object(R.jsx)("div",{className:"max-w-7xl mx-auto ",children:Object(R.jsxs)("div",{className:"relative shadow-xl sm:overflow-hidden",children:[Object(R.jsxs)("div",{className:"absolute inset-0",children:[Object(R.jsx)("img",{className:"h-full w-full object-cover",src:"https://images.unsplash.com/photo-1534438327276-14e5300c3a48?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80",alt:"People working on laptops"}),Object(R.jsx)("div",{className:"absolute inset-0 bg-indigo-700 mix-blend-multiply"})]}),Object(R.jsxs)("div",{className:"relative px-4 py-16 sm:px-6 sm:py-24 lg:py-32 lg:px-8",children:[Object(R.jsxs)("h1",{className:"text-center text-4xl font-extrabold tracking-tight sm:text-5xl lg:text-6xl",children:[Object(R.jsx)("span",{className:"block text-white",children:"The best and"}),Object(R.jsx)("span",{className:"block text-indigo-200",children:"the only gym in town"})]}),Object(R.jsx)("p",{className:"mt-6 max-w-lg mx-auto text-center text-xl text-indigo-200 sm:max-w-3xl",children:"Anim aute id magna aliqua ad ad non deserunt sunt. Qui irure qui lorem cupidatat commodo. Elit sunt amet fugiat veniam occaecat fugiat aliqua."}),Object(R.jsx)("div",{className:"mt-10 max-w-sm mx-auto sm:max-w-none sm:flex sm:justify-center",children:Object(R.jsxs)("div",{className:"space-y-4 sm:space-y-0 sm:mx-auto sm:inline-grid sm:grid-cols-2 sm:gap-5",children:[Object(R.jsx)("a",{href:"#about",className:"flex items-center justify-center px-4 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-indigo-700 bg-white hover:bg-indigo-50 sm:px-8",children:"Get started"}),Object(R.jsx)(u.b,{to:"/login",className:"flex items-center justify-center px-4 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-500 bg-opacity-60 hover:bg-opacity-70 sm:px-8",children:"Log in"})]})})]})]})})]})},le=function(e){var t=e.reversed,a=e.imageUrl;return Object(R.jsx)("div",{className:f(t?"md:right-0":"md:left-0","h-56 bg-indigo-600 sm:h-72 md:absolute md:h-full md:w-1/2"),children:Object(R.jsx)("img",{className:"w-full h-full object-cover",src:a,alt:""})})},oe=function(e){var t=e.reversed,a=e.title,r=e.subtitle,s=e.content,n=e.buttonText,c=e.buttonUrl;return Object(R.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 py-12 sm:px-6 lg:px-8 lg:py-16",children:Object(R.jsxs)("div",{className:f(t?"":"md:ml-auto md:pl-10","md:w-1/2"),children:[Object(R.jsx)("h2",{className:"text-base font-semibold uppercase tracking-wider text-gray-300",children:r}),Object(R.jsx)("p",{className:"mt-2 text-white text-3xl font-extrabold tracking-tight sm:text-4xl",children:a}),Object(R.jsx)("p",{className:"mt-3 text-lg text-gray-300",children:s}),Object(R.jsx)("div",{className:"mt-8",children:Object(R.jsx)("div",{className:"inline-flex rounded-md shadow",children:Object(R.jsx)("a",{href:c,className:"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-gray-900 bg-white hover:bg-gray-50",children:n})})})]})})},de=function(e){var t=e.reversed,a=e.imageUrl,r=e.title,s=e.subtitle,n=e.content,c=e.buttonText,i=e.buttonUrl;return Object(R.jsxs)("div",{id:"about",className:"relative bg-gray-800",children:[Object(R.jsx)(le,{imageUrl:a,reversed:t}),Object(R.jsx)(oe,{reversed:t,title:r,subtitle:s,content:n,buttonText:c,buttonUrl:i})]})},ue=["Pariatur quod similique","Sapiente libero doloribus","Vel ipsa esse repudiandae"],me=["Pariatur quod similique","Sapiente libero doloribus","Vel ipsa esse repudiandae"],xe=["Quia rem est sed impedit magnam","Dolorem vero ratione voluptates","Qui sed ab doloribus voluptatem dolore","Laborum commodi molestiae id et fugiat","Nam ut ipsa nesciunt culpa modi dolor"],be=Object(d.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.auth.isAuthenticated,a=Object(T.g)(),r=function(e){if(t){var r=[],s=[];localStorage.getItem("cart_products")&&(r=JSON.parse(localStorage.getItem("cart_products"))),localStorage.getItem("cart_quantities")&&(s=JSON.parse(localStorage.getItem("cart_quantities"))),r.push(e),s.push(1),localStorage.setItem("cart_products",JSON.stringify(r)),localStorage.setItem("cart_quantities",JSON.stringify(s)),a.push("/cart")}else a.push("/login")};return Object(R.jsxs)("div",{id:"pricing",className:"bg-gray-900",children:[Object(R.jsx)("div",{className:"pt-12 px-4 sm:px-6 lg:px-8 lg:pt-20",children:Object(R.jsxs)("div",{className:"text-center",children:[Object(R.jsx)("h2",{className:"text-lg leading-6 font-semibold text-gray-300 uppercase tracking-wider",children:"Pricing"}),Object(R.jsx)("p",{className:"mt-2 text-3xl font-extrabold text-white sm:text-4xl lg:text-5xl",children:"The right price for you, whoever you are"}),Object(R.jsx)("p",{className:"mt-3 max-w-4xl mx-auto text-xl text-gray-300 sm:mt-5 sm:text-2xl",children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Velit numquam eligendi quos odit doloribus molestiae voluptatum."})]})}),Object(R.jsx)("div",{className:"mt-16 bg-white pb-12 lg:mt-20 lg:pb-20",children:Object(R.jsxs)("div",{className:"relative z-0",children:[Object(R.jsx)("div",{className:"absolute inset-0 h-5/6 bg-gray-900 lg:h-2/3"}),Object(R.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(R.jsxs)("div",{className:"relative lg:grid lg:grid-cols-7",children:[Object(R.jsx)("div",{className:"mx-auto max-w-md lg:mx-0 lg:max-w-none lg:col-start-1 lg:col-end-3 lg:row-start-2 lg:row-end-3",children:Object(R.jsx)("div",{className:"h-full flex flex-col rounded-lg shadow-lg overflow-hidden lg:rounded-none lg:rounded-l-lg",children:Object(R.jsxs)("div",{className:"flex-1 flex flex-col",children:[Object(R.jsx)("div",{className:"bg-white px-6 py-10",children:Object(R.jsxs)("div",{children:[Object(R.jsx)("h3",{className:"text-center text-2xl font-medium text-gray-900",id:"tier-hobby",children:"1 month"}),Object(R.jsxs)("div",{className:"mt-4 flex items-center justify-center",children:[Object(R.jsx)("span",{className:"px-3 flex items-start text-6xl tracking-tight text-gray-900",children:Object(R.jsx)("span",{className:"font-extrabold",children:"40"})}),Object(R.jsx)("span",{className:"mt-2 mr-2 text-4xl font-medium",children:"\u20ac"})]})]})}),Object(R.jsxs)("div",{className:"flex-1 flex flex-col justify-between border-t-2 border-gray-100 p-6 bg-gray-50 sm:p-10 lg:p-6 xl:p-10",children:[Object(R.jsx)("ul",{className:"space-y-4",children:ue.map((function(e){return Object(R.jsxs)("li",{className:"flex items-start",children:[Object(R.jsx)("div",{className:"flex-shrink-0",children:Object(R.jsx)(j.b,{className:"flex-shrink-0 h-6 w-6 text-green-500","aria-hidden":"true"})}),Object(R.jsx)("p",{className:"ml-3 text-base font-medium text-gray-500",children:e})]},e)}))}),Object(R.jsx)("div",{className:"mt-8",children:Object(R.jsx)("div",{className:"rounded-lg shadow-md",children:Object(R.jsx)("button",{onClick:function(){return r("60df10cad8f8630e2c8cb1f7")},className:"block w-full text-center rounded-lg border border-transparent bg-white px-6 py-3 text-base font-medium text-indigo-600 hover:bg-gray-50","aria-describedby":"tier-hobby",children:"Join now"})})})]})]})})}),Object(R.jsx)("div",{className:"mt-10 max-w-lg mx-auto lg:mt-0 lg:max-w-none lg:mx-0 lg:col-start-3 lg:col-end-6 lg:row-start-1 lg:row-end-4",children:Object(R.jsxs)("div",{className:"relative z-10 rounded-lg shadow-xl",children:[Object(R.jsx)("div",{className:"pointer-events-none absolute inset-0 rounded-lg border-2 border-indigo-600","aria-hidden":"true"}),Object(R.jsx)("div",{className:"absolute inset-x-0 top-0 transform translate-y-px",children:Object(R.jsx)("div",{className:"flex justify-center transform -translate-y-1/2",children:Object(R.jsx)("span",{className:"inline-flex rounded-full bg-indigo-600 px-4 py-1 text-sm font-semibold tracking-wider uppercase text-white",children:"Most popular"})})}),Object(R.jsx)("div",{className:"bg-white rounded-t-lg px-6 pt-12 pb-10",children:Object(R.jsxs)("div",{children:[Object(R.jsx)("h3",{className:"text-center text-3xl font-semibold text-gray-900 sm:-mx-6",id:"tier-growth",children:"6 months"}),Object(R.jsxs)("div",{className:"mt-4 flex items-center justify-center",children:[Object(R.jsx)("span",{className:"px-3 flex items-start text-6xl tracking-tight text-gray-900 sm:text-6xl",children:Object(R.jsx)("span",{className:"font-extrabold",children:"200"})}),Object(R.jsx)("span",{className:"mt-2 mr-2 text-4xl font-medium",children:"\u20ac"})]})]})}),Object(R.jsxs)("div",{className:"border-t-2 border-gray-100 rounded-b-lg pt-10 pb-8 px-6 bg-gray-50 sm:px-10 sm:py-10",children:[Object(R.jsx)("ul",{className:"space-y-4",children:xe.map((function(e){return Object(R.jsxs)("li",{className:"flex items-start",children:[Object(R.jsx)("div",{className:"flex-shrink-0",children:Object(R.jsx)(j.b,{className:"flex-shrink-0 h-6 w-6 text-green-500","aria-hidden":"true"})}),Object(R.jsx)("p",{className:"ml-3 text-base font-medium text-gray-500",children:e})]},e)}))}),Object(R.jsx)("div",{className:"mt-10",children:Object(R.jsx)("div",{className:"rounded-lg shadow-md",children:Object(R.jsx)("button",{onClick:function(){return r("60f548925fd25335f84dc9e1")},className:"block w-full text-center rounded-lg border border-transparent bg-indigo-600 px-6 py-4 text-xl leading-6 font-medium text-white hover:bg-indigo-700","aria-describedby":"tier-growth",children:"Join now"})})})]})]})}),Object(R.jsx)("div",{className:"mt-10 mx-auto max-w-md lg:m-0 lg:max-w-none lg:col-start-6 lg:col-end-8 lg:row-start-2 lg:row-end-3",children:Object(R.jsx)("div",{className:"h-full flex flex-col rounded-lg shadow-lg overflow-hidden lg:rounded-none lg:rounded-r-lg",children:Object(R.jsxs)("div",{className:"flex-1 flex flex-col",children:[Object(R.jsx)("div",{className:"bg-white px-6 py-10",children:Object(R.jsxs)("div",{children:[Object(R.jsx)("h3",{className:"text-center text-2xl font-medium text-gray-900",id:"tier-scale",children:"1 year"}),Object(R.jsxs)("div",{className:"mt-4 flex items-center justify-center",children:[Object(R.jsx)("span",{className:"px-3 flex items-start text-6xl tracking-tight text-gray-900",children:Object(R.jsx)("span",{className:"font-extrabold",children:"360"})}),Object(R.jsx)("span",{className:"mt-2 mr-2 text-4xl font-medium",children:"\u20ac"})]})]})}),Object(R.jsxs)("div",{className:"flex-1 flex flex-col justify-between border-t-2 border-gray-100 p-6 bg-gray-50 sm:p-10 lg:p-6 xl:p-10",children:[Object(R.jsx)("ul",{className:"space-y-4",children:me.map((function(e){return Object(R.jsxs)("li",{className:"flex items-start",children:[Object(R.jsx)("div",{className:"flex-shrink-0",children:Object(R.jsx)(j.b,{className:"flex-shrink-0 h-6 w-6 text-green-500","aria-hidden":"true"})}),Object(R.jsx)("p",{className:"ml-3 text-base font-medium text-gray-500",children:e})]},e)}))}),Object(R.jsx)("div",{className:"mt-8",children:Object(R.jsx)("div",{className:"rounded-lg shadow-md",children:Object(R.jsx)("button",{onClick:function(){return r("60f54a433cd86e67c4dd5205")},className:"block w-full text-center rounded-lg border border-transparent bg-white px-6 py-3 text-base font-medium text-indigo-600 hover:bg-gray-50","aria-describedby":"tier-scale",children:"Join now"})})})]})]})})})]})})]})})]})})),je=a(93),pe=function(e){var t=e.settings,a={lat:t.maps.lat,lng:t.maps.lng};return Object(R.jsx)(je.b,{googleMapsApiKey:t.maps.api_key,children:Object(R.jsx)(je.a,{mapContainerStyle:{width:"400px",height:"400px"},center:a,zoom:11.6,children:Object(R.jsx)(je.c,{position:a})})})},he=function(e){var t=e.settings,a={social:[{name:"Facebook",href:t.social_urls.facebook,icon:function(e){return Object(R.jsx)("svg",Object(B.a)(Object(B.a)({fill:"currentColor",viewBox:"0 0 24 24"},e),{},{children:Object(R.jsx)("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})}))}},{name:"Instagram",href:t.social_urls.instagram,icon:function(e){return Object(R.jsx)("svg",Object(B.a)(Object(B.a)({fill:"currentColor",viewBox:"0 0 24 24"},e),{},{children:Object(R.jsx)("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})}))}},{name:"Twitter",href:t.social_urls.twitter,icon:function(e){return Object(R.jsx)("svg",Object(B.a)(Object(B.a)({fill:"currentColor",viewBox:"0 0 24 24"},e),{},{children:Object(R.jsx)("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})}))}}]};return Object(R.jsx)("footer",{id:"find-us",className:"bg-gray-800",children:Object(R.jsxs)("div",{className:"max-w-7xl mx-auto py-12 px-4 overflow-hidden sm:px-6 lg:px-8",children:[Object(R.jsxs)("div",{className:"-mx-5 -my-2 flex flex-wrap justify-center","aria-label":"Footer",children:[Object(R.jsx)("div",{className:"w-full",children:Object(R.jsx)("h2",{className:"text-center text-lg leading-6 font-semibold text-gray-300 uppercase tracking-wider",children:"Where are we?"})}),Object(R.jsx)("div",{className:"mt-4",children:Object(R.jsx)(pe,{settings:t})})]}),Object(R.jsx)("div",{className:"relative mt-8",children:Object(R.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:Object(R.jsx)("div",{className:"w-full border-t border-gray-300"})})}),Object(R.jsx)("div",{className:"mt-12",children:Object(R.jsx)("h2",{className:"text-center text-lg leading-6 font-semibold text-gray-300 uppercase tracking-wider",children:"Follow us"})}),Object(R.jsx)("div",{className:"mt-8 flex justify-center space-x-6",children:a.social.map((function(e){return Object(R.jsxs)("a",{href:e.href,target:"_blank",rel:"noreferrer",className:"text-gray-400 hover:text-gray-500",children:[Object(R.jsx)("span",{className:"sr-only",children:e.name}),Object(R.jsx)(e.icon,{className:"h-6 w-6","aria-hidden":"true"})]},e.name)}))}),Object(R.jsxs)("p",{className:"mt-8 text-center text-base text-gray-400",children:["\xa9 2021 ",t.business_name,". All rights reserved."]})]})})},fe=function(){var e=Object(d.d)((function(e){return e.settings})).settings;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(ie,{}),Object(R.jsx)(de,{imageUrl:"https://images.unsplash.com/photo-1571902943202-507ec2618e8f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1920&q=60&blend=6366F1&sat=-100&blend-mode=multiply",reversed:!0,title:"Over 9000 machines to workout on",subtitle:"A gym for everyone",content:"Whether you are a professional weightlifter or completely new to training, we have all the equipment and space you possibly need to start your journey towards your fitness goals!",buttonText:"Check the pricing",buttonUrl:"#pricing"}),Object(R.jsx)(de,{imageUrl:"https://images.unsplash.com/photo-1507398941214-572c25f4b1dc?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1920&q=60&blend=6366F1&sat=-100&blend-mode=multiply",reversed:!1,title:"We won't make you go bankrupt",subtitle:"Affordable pricing",content:"We offer you multiple different options for paying your membership. You can go with one month plan if you are still unsure, or as long as one year if you are already fully determined.",buttonText:"Check the pricing",buttonUrl:"#pricing"}),Object(R.jsx)(be,{}),Object(R.jsx)(he,{settings:e})]})},ge=a(338),Oe=a(44),ye=function(e){var t=e.title,a=e.name,s=e.value,n=e.type,i=e.updatedObject,l=e.setUpdatedObject,o=e.setHasUnsavedChanges,d=e.editable,u=void 0===d||d,m=Object(r.useState)(!1),x=Object(c.a)(m,2),b=x[0],p=x[1],h=Object(r.useState)(s),g=Object(c.a)(h,2),O=g[0],v=g[1];return Object(r.useEffect)((function(){v(s)}),[s]),Object(R.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),O!==s&&(l(Object(B.a)(Object(B.a)({},i),{},Object(Oe.a)({},a,O))),o(!0)),p(!1)}(e)},className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 lg:px-8",children:[Object(R.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:t}),b?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0",children:Object(R.jsx)("input",{id:a,name:a,type:n,value:O,onChange:function(e){return v(e.target.value)},required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})}),Object(R.jsx)("dd",{className:"flex mt-1 text-sm text-gray-900 sm:mt-0",children:Object(R.jsx)("button",{type:"submit",children:Object(R.jsx)(j.b,{className:"h-6 w-6","aria-hidden":"true"})})})]}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("dd",{className:f(u?"":"col-span-2","mt-1 text-sm text-gray-900 sm:mt-0"),children:"birth_date"===a?Object(y.default)(new Date(s),"dd.MM.yyyy"):s}),u&&Object(R.jsx)("dd",{className:"flex mt-1 text-sm text-gray-900 sm:mt-0",children:Object(R.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),p(!0)},children:Object(R.jsx)(j.h,{className:"h-6 w-6","aria-hidden":"true"})})})]})]})},ve=["title","name","value","updatedObject","setUpdatedObject","setHasUnsavedChanges","showFormat","editable"],we=function(e){var t=e.title,a=e.name,s=e.value,n=e.updatedObject,i=e.setUpdatedObject,l=e.setHasUnsavedChanges,o=(e.showFormat,e.editable),d=Object(V.a)(e,ve),u=Object(r.useState)(!1),m=Object(c.a)(u,2),x=m[0],b=m[1],p=Object(r.useState)(s),h=Object(c.a)(p,2),g=h[0],O=h[1];return Object(r.useEffect)((function(){O(s)}),[s]),Object(R.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 lg:px-8",children:[Object(R.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:t}),x?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{children:Object(R.jsx)($.a,Object(B.a)(Object(B.a)({},d),{},{selected:g,onChange:function(e){O(e)}}))}),Object(R.jsx)("dd",{className:"flex mt-1 text-sm text-gray-900 sm:mt-0",children:Object(R.jsx)("button",{onClick:function(){return g.getTime()!==s.getTime()&&(i(Object(B.a)(Object(B.a)({},n),{},Object(Oe.a)({},a,g))),l(!0)),void b(!1)},children:Object(R.jsx)(j.b,{className:"h-6 w-6","aria-hidden":"true"})})})]}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("dd",{className:f(o?"":"col-span-2","mt-1 text-sm text-gray-900 sm:mt-0"),children:Object(y.default)(new Date(s),d.dateFormat)}),o&&Object(R.jsx)("dd",{className:"flex mt-1 text-sm text-gray-900 sm:mt-0",children:Object(R.jsx)("button",{onClick:function(){return b(!0)},children:Object(R.jsx)(j.h,{className:"h-6 w-6","aria-hidden":"true"})})})]})]})};we.defaultProps={editable:!0};var Ne=we,_e=function(e){var t=e.save;return Object(R.jsx)("div",{className:"fixed inset-x-0 bottom-0",children:Object(R.jsx)("div",{className:"bg-indigo-600",children:Object(R.jsx)("div",{className:"max-w-7xl mx-auto py-3 px-3 sm:px-6 lg:px-8",children:Object(R.jsxs)("div",{className:"flex items-center justify-between flex-wrap",children:[Object(R.jsxs)("div",{className:"w-0 flex-1 flex items-center",children:[Object(R.jsx)("span",{className:"flex p-2 rounded-lg bg-indigo-800",children:Object(R.jsx)(j.j,{className:"h-6 w-6 text-white","aria-hidden":"true"})}),Object(R.jsxs)("p",{className:"ml-3 font-medium text-white truncate",children:[Object(R.jsx)("span",{className:"md:hidden",children:"You have unsaved changes!"}),Object(R.jsx)("span",{className:"hidden md:inline",children:"You have unsaved changes!"})]})]}),Object(R.jsx)("div",{className:"mt-0 flex-shrink-0 sm:w-auto",children:Object(R.jsx)("button",{onClick:function(){return t()},className:"flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-indigo-600 bg-white hover:bg-indigo-50",children:"Save"})})]})})})})},ke=function(e){var t=e.color,a=void 0===t?"black":t,r=e.fullScreen,s=void 0!==r&&r;return Object(R.jsx)("div",{className:f(s?"min-h-screen":"","flex justify-center items-center bg-".concat(a)),children:Object(R.jsxs)("div",{className:"loader bg-white p-5 rounded-full flex space-x-3",children:[Object(R.jsx)("div",{className:"w-5 h-5 bg-gray-800 rounded-full animate-bounce"}),Object(R.jsx)("div",{className:"w-5 h-5 bg-gray-800 rounded-full animate-bounce"}),Object(R.jsx)("div",{className:"w-5 h-5 bg-gray-800 rounded-full animate-bounce"})]})})},Ce=Object(d.b)((function(e){return{auth:e.auth}}),{loadUser:C,updateUser:function(e){var t=e.id,a=e.email,r=e.first_name,s=e.last_name,n=e.phone_number,c=e.street_address,i=e.postal_code,d=e.city,u=e.birth_date;return function(){var e=Object(o.a)(l.a.mark((function e(o){var m,x,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=JSON.stringify({email:a,first_name:r,last_name:s,phone_number:n,street_address:c,postal_code:i,city:d,birth_date:Object(y.default)(new Date(u),"yyyy-MM-dd")}),e.prev=1,e.next=4,_.update(t,m);case 4:x=e.sent,o({type:"UPDATE_USER",payload:x}),e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(1),(b=e.t0.response.data.error)&&o(k(b,3e3)),new Error(b);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.auth,a=t.user,s=t.loading,n=e.loadUser,i=e.updateUser,d=Object(r.useState)(),u=Object(c.a)(d,2),m=u[0],x=u[1],b=Object(r.useState)(!1),j=Object(c.a)(b,2),p=j[0],h=j[1];Object(r.useEffect)((function(){n()}),[]),Object(r.useEffect)((function(){a&&x({id:a.id,email:a.email,first_name:a.first_name,last_name:a.last_name,phone_number:a.phone_number,street_address:a.street_address,postal_code:a.postal_code,city:a.city,birth_date:a.birth_date})}),[a]);var g=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(m);case 3:h(!1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return s||!m?Object(R.jsx)(ke,{color:"auto"}):Object(R.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[Object(R.jsxs)("div",{className:"px-4 py-5 sm:px-6 lg:px-8",children:[Object(R.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Your Profile"}),Object(R.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Personal details and membership information"})]}),Object(R.jsx)("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0",children:Object(R.jsxs)("dl",{className:"sm:divide-y sm:divide-gray-200",children:[Object(R.jsx)(ye,{title:"First name",name:"first_name",value:m.first_name,updatedObject:m,setUpdatedObject:x,setHasUnsavedChanges:h}),Object(R.jsx)(ye,{title:"Last name",name:"last_name",value:m.last_name,updatedObject:m,setUpdatedObject:x,setHasUnsavedChanges:h}),Object(R.jsx)(ye,{title:"Email address",name:"email",value:m.email,updatedObject:m,setUpdatedObject:x,setHasUnsavedChanges:h}),Object(R.jsx)(ye,{title:"Phone number",name:"phone_number",value:m.phone_number,updatedObject:m,setUpdatedObject:x,setHasUnsavedChanges:h}),Object(R.jsx)(ye,{title:"Street address",name:"street_address",value:m.street_address,updatedObject:m,setUpdatedObject:x,setHasUnsavedChanges:h}),Object(R.jsx)(ye,{title:"Postal code",name:"postal_code",value:m.postal_code,updatedObject:m,setUpdatedObject:x,setHasUnsavedChanges:h}),Object(R.jsx)(ye,{title:"City",name:"city",value:m.city,updatedObject:m,setUpdatedObject:x,setHasUnsavedChanges:h}),Object(R.jsx)(Ne,{title:"Birth date",name:"birth_date",nextMonthButtonLabel:">",previousMonthButtonLabel:"<",dateFormat:"dd/MM/yyyy",value:m.birth_date?new Date(m.birth_date):new Date(a.birth_date),updatedObject:m,setUpdatedObject:x,setHasUnsavedChanges:h}),Object(R.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 lg:px-8",children:[Object(R.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Memberships"}),Object(R.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:a.memberships.length>0?Object(R.jsx)("ul",{className:"border border-gray-200 rounded-md divide-y divide-gray-200",children:a.memberships.filter((function(e){return new Date(e.end_date)>Date.now()})).map((function(e){return Object(R.jsx)("li",{className:"pl-3 pr-4 py-3 flex items-center justify-between text-sm",children:Object(R.jsxs)("div",{className:"w-0 flex-1 flex items-center",children:[Object(R.jsx)(H.a,{className:"flex-shrink-0 h-5 w-5 text-green-500","aria-hidden":"true"}),Object(R.jsxs)("span",{className:"ml-2 flex-1 w-0 truncate",children:["Active Membership (",Object(ge.a)(new Date(e.end_date),Date.now())," ","left)"]})]})},e.id)}))}):Object(R.jsx)("p",{children:"No active memberships"})})]}),Object(R.jsxs)("div",{className:"py-4 sm:pt-5 pb-20 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 lg:px-8",children:[Object(R.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Orders"}),Object(R.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:a.orders.length>0?Object(R.jsx)("ul",{className:"border border-gray-200 rounded-md divide-y divide-gray-200",children:a.orders.map((function(e){return Object(R.jsx)("li",{className:"pl-3 pr-4 py-3 flex items-center justify-between text-sm",children:Object(R.jsxs)("div",{className:"w-0 flex-1 flex items-center",children:[Object(R.jsx)(H.a,{className:f("checkout_complete"===e.status?"text-green-500":"text-yellow-500","flex-shrink-0 h-5 w-5"),"aria-hidden":"true"}),Object(R.jsxs)("span",{className:"ml-2 flex-1 w-0 truncate",children:["Order ID: ",e.id]})]})},e.id)}))}):Object(R.jsx)("p",{children:"No orders made yet"})})]}),p&&Object(R.jsx)(_e,{save:g}),Object(R.jsx)(G,{})]})})]})})),Ee=function(e){var t=e.productId,a=e.quantity,s=(e.subTotal,e.setSubTotal),n=e.setCartItems,i=e.setCartQuantities,d=Object(r.useState)({}),u=Object(c.a)(d,2),m=u[0],x=u[1];Object(r.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(O,"/products/").concat(t));case 2:r=e.sent,n=r.data,x(n),s((function(e){return e+n.unit_price*a}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,a,s]);return Object(R.jsxs)("tr",{children:[Object(R.jsxs)("td",{children:[Object(R.jsx)("p",{className:"mb-2",children:m.name}),Object(R.jsx)("button",{onClick:function(){return function(){var e=JSON.parse(localStorage.getItem("cart_products")),t=JSON.parse(localStorage.getItem("cart_quantities")),r=e.indexOf(m.id);r>-1&&(e.splice(r,1),t.splice(r,1)),localStorage.setItem("cart_products",JSON.stringify(e)),localStorage.setItem("cart_quantities",JSON.stringify(t)),n(e),i(t),s((function(e){return e-m.unit_price*a}))}()},className:"text-gray-700",children:Object(R.jsx)("small",{children:"(Remove item)"})})]}),Object(R.jsx)("td",{className:"text-right",children:Object(R.jsx)("span",{className:"text-sm lg:text-base font-medium",children:a})}),Object(R.jsx)("td",{className:"hidden text-right md:table-cell",children:Object(R.jsxs)("span",{className:"text-sm lg:text-base font-medium",children:[m.unit_price,"\u20ac"]})}),Object(R.jsx)("td",{className:"text-right",children:Object(R.jsxs)("span",{className:"text-sm lg:text-base font-medium",children:[m.unit_price*a,"\u20ac"]})})]})},Se={getByCode:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(O,"/coupons/code/").concat(t));case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(O,"/coupons/").concat(t));case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(o.a)(l.a.mark((function e(t,a){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(O,"/coupons"),{params:{page:t,limit:a}});case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),update:function(){var e=Object(o.a)(l.a.mark((function e(t,a){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put("".concat(O,"/coupons/").concat(t),a);case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),create:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(O,"/coupons"),t);case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(O,"/coupons/").concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Pe=function(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),a=t[0],s=t[1],n=Object(r.useState)([]),i=Object(c.a)(n,2),u=i[0],m=i[1],x=Object(r.useState)(0),b=Object(c.a)(x,2),j=b[0],p=b[1],h=Object(r.useState)(""),f=Object(c.a)(h,2),g=f[0],O=f[1],y=Object(r.useState)(0),v=Object(c.a)(y,2),w=v[0],N=v[1],_=Object(T.g)(),C=Object(d.c)();Object(r.useEffect)((function(){localStorage.getItem("cart_products")&&s(JSON.parse(localStorage.getItem("cart_products"))),localStorage.getItem("cart_quantities")&&m(JSON.parse(localStorage.getItem("cart_quantities")))}),[]);var E=function(){var e=Object(o.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.create({products:a,quantities:u,coupon:g});case 2:t=e.sent,r=t.order_id,localStorage.setItem("kco_id",r),_.push("/checkout");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Se.getByCode(g);case 4:a=e.sent,r=a.value,a.active?N(r):O(""),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),C(k("Invalid coupon",3e3)),O("");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsx)("div",{className:"flex justify-center my-6",children:Object(R.jsx)("div",{className:"flex flex-col w-full p-8 text-gray-800 bg-white shadow-lg pin-r pin-y md:w-4/5 lg:w-4/5",children:a.length>0?Object(R.jsxs)("div",{className:"flex-1",children:[Object(R.jsxs)("table",{className:"w-full text-sm lg:text-base",cellSpacing:"0",children:[Object(R.jsx)("thead",{children:Object(R.jsxs)("tr",{className:"h-12 uppercase",children:[Object(R.jsx)("th",{className:"text-left",children:"Product"}),Object(R.jsxs)("th",{className:"lg:text-right text-left pl-5 lg:pl-0",children:[Object(R.jsx)("span",{className:"lg:hidden",title:"Quantity",children:"Qtd"}),Object(R.jsx)("span",{className:"hidden lg:inline",children:"Quantity"})]}),Object(R.jsx)("th",{className:"hidden text-right md:table-cell",children:"Unit price"}),Object(R.jsx)("th",{className:"text-right",children:"Total price"})]})}),Object(R.jsx)("tbody",{children:a.map((function(e,t){return Object(R.jsx)(Ee,{productId:e,quantity:u[t],subTotal:j,setSubTotal:p,setCartItems:s,setCartQuantities:m},e)}))})]}),Object(R.jsx)("hr",{className:"pb-6 mt-6"}),Object(R.jsxs)("div",{className:"my-4 mt-6 -mx-2 lg:flex",children:[Object(R.jsxs)("div",{className:"lg:px-2 lg:w-1/2",children:[Object(R.jsx)("div",{className:"p-4 bg-gray-100 rounded-full",children:Object(R.jsx)("h1",{className:"ml-2 font-bold uppercase",children:"Coupon Code"})}),Object(R.jsxs)("div",{className:"p-4",children:[Object(R.jsx)("p",{className:"mb-4 italic",children:"If you have a coupon code, please enter it in the box below"}),Object(R.jsx)("div",{className:"justify-center md:flex",children:Object(R.jsx)("form",{children:Object(R.jsxs)("div",{className:"flex items-center w-full h-13 pl-3 bg-gray-100 border rounded-full",children:[Object(R.jsx)("input",{type:"coupon",name:"code",id:"coupon",placeholder:"Apply coupon",value:g,onChange:function(e){return O(e.target.value)},className:"w-full bg-gray-100 outline-none appearance-none focus:outline-none active:outline-none"}),Object(R.jsxs)("button",{onClick:function(e){return S(e)},type:"submit",className:"text-sm flex items-center px-3 py-1 text-white bg-gray-800 rounded-full outline-none md:px-4 hover:bg-gray-700 focus:outline-none active:outline-none",children:[Object(R.jsx)("svg",{"aria-hidden":"true","data-prefix":"fas","data-icon":"gift",className:"w-8",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Object(R.jsx)("path",{fill:"currentColor",d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"})}),Object(R.jsx)("span",{className:"font-medium",children:"Apply coupon"})]})]})})})]})]}),Object(R.jsxs)("div",{className:"lg:px-2 lg:w-1/2",children:[Object(R.jsx)("div",{className:"p-4 bg-gray-100 rounded-full",children:Object(R.jsx)("h1",{className:"ml-2 font-bold uppercase",children:"Order Details"})}),Object(R.jsxs)("div",{className:"p-4",children:[Object(R.jsx)("p",{className:"mb-6 italic",children:"Shipping and additionnal costs are calculated based on values you have entered"}),Object(R.jsxs)("div",{className:"flex justify-between border-b",children:[Object(R.jsx)("div",{className:"lg:px-4 lg:py-2 m-2 text-lg lg:text-xl font-bold text-center text-gray-800",children:"Subtotal"}),Object(R.jsxs)("div",{className:"lg:px-4 lg:py-2 m-2 lg:text-lg font-bold text-center text-gray-900",children:[j,"\u20ac"]})]}),w>0&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("div",{className:"flex justify-between pt-4 border-b",children:[Object(R.jsxs)("div",{className:"flex lg:px-4 lg:py-2 m-2 text-lg lg:text-xl font-bold text-gray-800",children:[Object(R.jsx)("button",{onClick:function(){return N(0),void O("")},type:"button",className:"mr-2",children:Object(R.jsx)("svg",{"aria-hidden":"true","data-prefix":"far","data-icon":"trash-alt",className:"w-4 text-red-600 hover:text-red-800",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:Object(R.jsx)("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0012-12V188a12 12 0 00-12-12h-24a12 12 0 00-12 12v216a12 12 0 0012 12zM432 80h-82.41l-34-56.7A48 48 0 00274.41 0H173.59a48 48 0 00-41.16 23.3L98.41 80H16A16 16 0 000 96v16a16 16 0 0016 16h16v336a48 48 0 0048 48h288a48 48 0 0048-48V128h16a16 16 0 0016-16V96a16 16 0 00-16-16zM171.84 50.91A6 6 0 01177 48h94a6 6 0 015.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0012-12V188a12 12 0 00-12-12h-24a12 12 0 00-12 12v216a12 12 0 0012 12z"})})}),"Coupon"]}),Object(R.jsxs)("div",{className:"lg:px-4 lg:py-2 m-2 lg:text-lg font-bold text-center text-green-700",children:["-",w,"\u20ac"]})]}),Object(R.jsxs)("div",{className:"flex justify-between pt-4 border-b",children:[Object(R.jsx)("div",{className:"lg:px-4 lg:py-2 m-2 text-lg lg:text-xl font-bold text-center text-gray-800",children:"New Subtotal"}),Object(R.jsxs)("div",{className:"lg:px-4 lg:py-2 m-2 lg:text-lg font-bold text-center text-gray-900",children:[j-w,"\u20ac"]})]})]}),Object(R.jsxs)("button",{onClick:function(){return E()},className:"flex justify-center w-full px-10 py-3 mt-6 font-medium text-white uppercase bg-gray-800 rounded-full shadow item-center hover:bg-gray-700 focus:shadow-outline focus:outline-none",children:[Object(R.jsx)(H.d,{className:"h-9 w-9","aria-hidden":"true"}),Object(R.jsx)("span",{className:"ml-2 mb-auto mt-auto text-xl",children:"Proceed to checkout"})]})]})]})]})]}):Object(R.jsx)("p",{children:"You have no items in cart."})})})},Ue=a(339),Te=function(e){var t=e.sidebarOpen,a=e.setSidebarOpen,s=e.navigation,n=e.secondaryNavigation;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(b.a.Root,{show:t,as:r.Fragment,children:Object(R.jsxs)(Ue.a,{as:"div",static:!0,className:"fixed inset-0 flex z-40 lg:hidden",open:t,onClose:a,children:[Object(R.jsx)(b.a.Child,{as:r.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(R.jsx)(Ue.a.Overlay,{className:"fixed inset-0 bg-gray-600 bg-opacity-75"})}),Object(R.jsx)(b.a.Child,{as:r.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:Object(R.jsxs)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full pt-5 pb-4 bg-cyan-700",children:[Object(R.jsx)(b.a.Child,{as:r.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(R.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:Object(R.jsxs)("button",{className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:function(){return a(!1)},children:[Object(R.jsx)("span",{className:"sr-only",children:"Close sidebar"}),Object(R.jsx)(j.p,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})}),Object(R.jsx)("div",{className:"flex-shrink-0 flex items-center px-4",children:Object(R.jsx)("img",{className:"h-8 w-auto",src:"https://tailwindui.com/img/logos/easywire-logo-cyan-300-mark-white-text.svg",alt:"Easywire logo"})}),Object(R.jsxs)("nav",{className:"mt-5 flex-shrink-0 h-full divide-y divide-cyan-800 overflow-y-auto","aria-label":"Sidebar",children:[Object(R.jsx)("div",{className:"px-2 space-y-1",children:s.map((function(e){return Object(R.jsxs)(u.b,{to:e.href,onClick:function(){return a(!1)},className:f(e.current?"bg-cyan-800 text-white":"text-cyan-100 hover:text-white hover:bg-cyan-600","group flex items-center px-2 py-2 text-base font-medium rounded-md"),"aria-current":e.current?"page":void 0,children:[Object(R.jsx)(e.icon,{className:"mr-4 flex-shrink-0 h-6 w-6 text-cyan-200","aria-hidden":"true"}),e.name]},e.name)}))}),Object(R.jsx)("div",{className:"mt-6 pt-6",children:Object(R.jsx)("div",{className:"px-2 space-y-1",children:n.map((function(e){return Object(R.jsxs)(u.b,{to:e.href,className:f(e.current?"bg-cyan-800 text-white":"text-cyan-100 hover:text-white hover:bg-cyan-600","group flex items-center px-2 py-2 text-base font-medium rounded-md"),children:[Object(R.jsx)(e.icon,{className:"mr-4 h-6 w-6 text-cyan-200","aria-hidden":"true"}),e.name]},e.name)}))})})]})]})}),Object(R.jsx)("div",{className:"flex-shrink-0 w-14","aria-hidden":"true"})]})}),Object(R.jsx)("div",{className:"hidden lg:flex lg:flex-shrink-0",children:Object(R.jsx)("div",{className:"flex flex-col w-64",children:Object(R.jsxs)("div",{className:"flex flex-col flex-grow bg-cyan-700 pt-5 pb-4 overflow-y-auto",children:[Object(R.jsx)("div",{className:"flex items-center flex-shrink-0 px-4",children:Object(R.jsx)("img",{className:"h-8 w-auto",src:"https://tailwindui.com/img/logos/easywire-logo-cyan-300-mark-white-text.svg",alt:"Easywire logo"})}),Object(R.jsxs)("nav",{className:"mt-5 flex-1 flex flex-col divide-y divide-cyan-800 overflow-y-auto","aria-label":"Sidebar",children:[Object(R.jsx)("div",{className:"px-2 space-y-1",children:s.map((function(e){return Object(R.jsxs)(u.b,{to:e.href,className:f(e.current?"bg-cyan-800 text-white":"text-cyan-100 hover:text-white hover:bg-cyan-600","group flex items-center px-2 py-2 text-sm leading-6 font-medium rounded-md"),"aria-current":e.current?"page":void 0,children:[Object(R.jsx)(e.icon,{className:"mr-4 flex-shrink-0 h-6 w-6 text-cyan-200","aria-hidden":"true"}),e.name]},e.name)}))}),Object(R.jsx)("div",{className:"mt-6 pt-6",children:Object(R.jsx)("div",{className:"px-2 space-y-1",children:n.map((function(e){return Object(R.jsxs)(u.b,{to:e.href,className:f(e.current?"bg-cyan-800 text-white":"text-cyan-100 hover:text-white hover:bg-cyan-600","group flex items-center px-2 py-2 text-sm leading-6 font-medium rounded-md"),children:[Object(R.jsx)(e.icon,{className:"mr-4 h-6 w-6 text-cyan-200","aria-hidden":"true"}),e.name]},e.name)}))})})]})]})})})]})},De=function(e,t){return function(){var a=Object(o.a)(l.a.mark((function a(r){var s,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_.getAll(e,t);case 3:s=a.sent,r({type:"GET_USERS",payload:s}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),(n=a.t0.response.data.errors)&&n.forEach((function(e){return r(k(e.msg,3e3))}));case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},Re=function(){return function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.getAll();case 3:a=e.sent,t({type:"GET_ALL_USERS",payload:a}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(r=e.t0.response.data.errors)&&r.forEach((function(e){return t(k(e.msg,3e3))}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Ae={get:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(O,"/products/").concat(t));case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(o.a)(l.a.mark((function e(t,a){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(O,"/products"),{params:{page:t,limit:a}});case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),update:function(){var e=Object(o.a)(l.a.mark((function e(t,a){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put("".concat(O,"/products/").concat(t),a);case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),create:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(O,"/products"),t);case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(O,"/products/").concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ie=function(){return function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae.getAll();case 3:a=e.sent,t({type:"GET_ALL_PRODUCTS",payload:a}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(r=e.t0.response.data.errors)&&r.forEach((function(e){return t(k(e.msg,3e3))}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Fe={get:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(O,"/orders/").concat(t));case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(o.a)(l.a.mark((function e(t,a,r){var s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(O,"/orders"),{params:{page:t,limit:a,status:r}});case 2:return s=e.sent,n=s.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),update:function(){var e=Object(o.a)(l.a.mark((function e(t,a){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put("".concat(O,"/orders/").concat(t),a);case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),create:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(O,"/orders"),t);case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(O,"/orders/").concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Me=function(e,t,a){return function(){var r=Object(o.a)(l.a.mark((function r(s){var n,c;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Fe.getAll(e,t,a);case 3:n=r.sent,s({type:"GET_ORDERS",payload:n}),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(0),(c=r.t0.response.data.errors)&&c.forEach((function(e){return s(k(e.msg,3e3))}));case 11:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},Le=function(){return function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe.getAll();case 3:a=e.sent,t({type:"GET_ALL_ORDERS",payload:a}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(r=e.t0.response.data.errors)&&r.forEach((function(e){return t(k(e.msg,3e3))}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},He=function(e){return function(){var t=Object(o.a)(l.a.mark((function t(a){var r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"SET_ORDER_LOADING"}),t.next=4,Fe.get(e);case 4:r=t.sent,a({type:"GET_ORDER",payload:r}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"GET_ORDER_FAILED"}),(s=t.t0.response.data.errors)&&s.forEach((function(e){return a(k(e.msg,3e3))}));case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Ge={get:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(O,"/memberships/").concat(t));case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(o.a)(l.a.mark((function e(t,a){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(O,"/memberships"),{params:{page:t,limit:a}});case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),update:function(){var e=Object(o.a)(l.a.mark((function e(t,a){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put("".concat(O,"/memberships/").concat(t),a);case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),create:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(O,"/memberships"),t);case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(O,"/memberships/").concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},qe=function(e,t){return function(){var a=Object(o.a)(l.a.mark((function a(r){var s,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ge.getAll(e,t);case 3:s=a.sent,r({type:"GET_MEMBERSHIPS",payload:s}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),(n=a.t0.response.data.errors)&&n.forEach((function(e){return r(k(e.msg,3e3))}));case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},Be=function(){return function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.getAll();case 3:a=e.sent,t({type:"GET_ALL_MEMBERSHIPS",payload:a}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(r=e.t0.response.data.errors)&&r.forEach((function(e){return t(k(e.msg,3e3))}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Ve=function(e,t){return function(){var a=Object(o.a)(l.a.mark((function a(r){var s,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Se.getAll(e,t);case 3:s=a.sent,r({type:"GET_COUPONS",payload:s}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),(n=a.t0.response.data.errors)&&n.forEach((function(e){return r(k(e.msg,3e3))}));case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},ze=function(){return function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Se.getAll();case 3:a=e.sent,t({type:"GET_ALL_COUPONS",payload:a}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(r=e.t0.response.data.errors)&&r.forEach((function(e){return t(k(e.msg,3e3))}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Je=function(e,t){return function(){var a=Object(o.a)(l.a.mark((function a(r){var s,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Se.create(e);case 3:s=a.sent,r({type:"CREATE_COUPON",payload:s}),t(!1),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),(n=a.t0.response.data.errors)&&n.forEach((function(e){return r(k(e.msg,3e3))}));case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},Ye=function(e){var t=e.name,a=e.setSearchResults,s=Object(r.useState)(""),n=Object(c.a)(s,2),i=n[0],l=n[1],o=Object(d.d)((function(e){return e.user})).allUsers,u=Object(d.d)((function(e){return e.product})).allProducts,m=Object(d.d)((function(e){return e.order})).allOrders,x=Object(d.d)((function(e){return e.membership})).allMemberships,b=Object(d.d)((function(e){return e.coupon})).allCoupons,j=Object(d.d)((function(e){return e.category})).allCategories,p=Object(d.c)();Object(r.useEffect)((function(){switch(t){case"Users":h(o,Re);break;case"Products":h(u,Ie);break;case"Orders":h(m,Le);break;case"Memberships":h(x,Be);break;case"Coupons":h(b,ze);break;case"Categories":h(j,P)}}),[i]),Object(r.useEffect)((function(){l("")}),[t]);var h=function(e,t){if(!e.length>0&&p(t()),i){console.log(e);var r=e.filter((function(e){return!!function e(t,a){return"string"===typeof a?a.toLowerCase().includes(t.toLowerCase()):!!a&&Object.values(a).some((function(a){return e(t,a)}))}(i,e)}));a(r)}else a([])};return Object(R.jsx)("div",{className:"flex-1 flex",children:Object(R.jsxs)("div",{className:"w-full flex md:ml-0",children:[Object(R.jsx)("label",{htmlFor:"search-field",className:"sr-only",children:"Search"}),Object(R.jsxs)("div",{className:"relative w-full text-gray-400 focus-within:text-gray-600",children:[Object(R.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pointer-events-none","aria-hidden":"true",children:Object(R.jsx)(H.f,{className:"h-5 w-5","aria-hidden":"true"})}),Object(R.jsx)("input",{id:"search-field",name:"search-field",onChange:function(e){return l(e.target.value)},value:i,className:"block w-full h-full pl-8 pr-3 py-2 border-transparent text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-0 focus:border-transparent sm:text-sm",placeholder:"Search ".concat(t),type:"search"})]})]})})},We=function(e){var t=e.searchResults,a=e.setSearchResults,s=e.name,n=Object(r.useState)(""),i=Object(c.a)(n,2),l=i[0],o=i[1],d=Object(r.useState)(""),m=Object(c.a)(d,2),x=m[0],b=m[1],j=s.toLowerCase();Object(r.useEffect)((function(){switch(s){case"Users":o("full_name"),b("email"),a([]);break;case"Products":o("name"),b("reference"),a([]);break;case"Orders":case"Memberships":o("id"),b("user"),a([]);break;case"Coupons":o("code"),b("value"),a([]);break;case"Categories":o("name"),b("description"),a([])}}),[s]);var p=function(e){return e[l]},h=function(e){return"value"===x?"".concat(e[x],"\u20ac"):"user"===x?e[x].full_name:e[x]};return!t.length>0?null:Object(R.jsxs)("div",{className:"w-full",children:[Object(R.jsx)("div",{className:"flow-root mt-6",children:Object(R.jsx)("ul",{className:"-my-5 divide-y divide-gray-200",children:t.map((function(e){return Object(R.jsx)("li",{className:"py-4",children:Object(R.jsxs)("div",{className:"flex items-center space-x-4",children:[Object(R.jsx)("div",{className:"flex-shrink-0"}),Object(R.jsxs)("div",{className:"flex-1 min-w-0",children:[Object(R.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:p(e)}),Object(R.jsx)("p",{className:"text-sm text-gray-500 truncate",children:h(e)})]}),Object(R.jsx)("div",{children:Object(R.jsx)(u.b,{to:"/admin/".concat(j,"/").concat(e.id),className:"inline-flex items-center shadow-sm px-2.5 py-0.5 border border-gray-300 text-sm leading-5 font-medium rounded-full text-gray-700 bg-white hover:bg-gray-50",children:"View"})})]})},e.id)}))})}),Object(R.jsx)("div",{className:"mt-6"})]})},Qe=function(e){var t=e.setSidebarOpen,a=e.user,s=e.current,n=Object(r.useState)([]),i=Object(c.a)(n,2),l=i[0],o=i[1],m=Object(d.c)(),x=Object(T.g)();return Object(R.jsxs)("div",{className:"relative z-10 flex-shrink-0 flex pt-3 bg-white border-b border-gray-200 lg:border-none",children:[Object(R.jsxs)("button",{className:"px-4 border-r border-gray-200 text-gray-400 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-cyan-500 lg:hidden",onClick:function(){return t(!0)},children:[Object(R.jsx)("span",{className:"sr-only",children:"Open sidebar"}),Object(R.jsx)(j.f,{className:"h-6 w-6","aria-hidden":"true"})]}),Object(R.jsxs)("div",{className:"flex-1 px-4 flex flex-wrap justify-between sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8",children:[Object(R.jsx)(Ye,{setSearchResults:o,name:s.name}),Object(R.jsxs)("div",{className:"ml-4 flex items-center md:ml-6",children:[Object(R.jsxs)("button",{className:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500",children:[Object(R.jsx)("span",{className:"sr-only",children:"View notifications"}),Object(R.jsx)(j.a,{className:"h-6 w-6","aria-hidden":"true"})]}),Object(R.jsx)(D.a,{as:"div",className:"ml-3 relative",children:function(e){var t=e.open;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{children:Object(R.jsxs)(D.a.Button,{className:"max-w-xs bg-white rounded-full flex items-center text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 lg:p-2 lg:rounded-md lg:hover:bg-gray-50",children:[Object(R.jsx)(j.m,{className:"h-6 w-6","aria-hidden":"true"}),Object(R.jsxs)("span",{className:"hidden ml-3 text-gray-700 text-sm font-medium lg:block",children:[Object(R.jsx)("span",{className:"sr-only",children:"Open user menu for "}),null===a||void 0===a?void 0:a.first_name," ",null===a||void 0===a?void 0:a.last_name]}),Object(R.jsx)(H.b,{className:"hidden flex-shrink-0 ml-1 h-5 w-5 text-gray-400 lg:block","aria-hidden":"true"})]})}),Object(R.jsx)(b.a,{show:t,as:r.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(R.jsxs)(D.a.Items,{static:!0,className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:[Object(R.jsx)(D.a.Item,{children:function(e){var t=e.active;return Object(R.jsx)(u.b,{to:"/",className:f(t?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"),children:"Back to Shop"})}}),Object(R.jsx)(D.a.Item,{children:function(e){var t=e.active;return Object(R.jsx)("button",{onClick:function(){return m((function(e){e({type:"LOGOUT"})})),void x.push("/")},className:f(t?"bg-gray-100":"","w-full text-left block px-4 py-2 text-sm text-gray-700"),children:"Logout"})}})]})})]})}})]}),Object(R.jsx)(We,{name:s.name,searchResults:l,setSearchResults:o})]})]})},Ke=function(){return Object(R.jsx)("div",{className:"bg-white shadow",children:Object(R.jsx)("div",{className:"px-4 sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8",children:Object(R.jsx)("div",{className:"py-6 md:flex md:items-center md:justify-between lg:border-t lg:border-gray-200",children:Object(R.jsx)("div",{className:"flex-1 min-w-0",children:Object(R.jsx)("div",{className:"flex items-center",children:Object(R.jsx)("div",{children:Object(R.jsx)("div",{className:"flex items-center",children:Object(R.jsx)("h1",{className:"ml-3 text-2xl font-bold leading-7 text-gray-900 sm:leading-9 sm:truncate",children:"Admin Panel"})})})})})})})})},Xe=["component","auth"],Ze=Object(d.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,s=a.isAuthenticated,n=a.user,i=a.loading,l=Object(V.a)(e,Xe),o=Object(r.useState)(!1),d=Object(c.a)(o,2),u=d[0],m=d[1],x=Object(r.useState)([{name:"Home",href:"/admin",icon:j.e,current:!0},{name:"Users",href:"/admin/users",icon:j.n,current:!1},{name:"Products",href:"/admin/products",icon:j.i,current:!1},{name:"Categories",href:"/admin/categories",icon:j.o,current:!1},{name:"Orders",href:"/admin/orders",icon:j.d,current:!1},{name:"Memberships",href:"/admin/memberships",icon:j.l,current:!1},{name:"Coupons",href:"/admin/coupons",icon:j.k,current:!1}]),b=Object(c.a)(x,2),p=b[0],h=b[1],f=Object(r.useState)([{name:"Settings",href:"/admin/settings",icon:j.c,current:!1}]),g=Object(c.a)(f,2),O=g[0],y=g[1],v=function(e){var t=p.map((function(t){return Object(B.a)(Object(B.a)({},t),{},{current:t.name===e})}));h(t);var a=O.map((function(t){return Object(B.a)(Object(B.a)({},t),{},{current:t.name===e})}));y(a)};return Object(R.jsx)(T.b,Object(B.a)(Object(B.a)({},l),{},{render:function(e){return i?Object(R.jsx)("p",{children:"Loading..."}):s||i?(null===n||void 0===n?void 0:n.is_admin)&&!i?Object(R.jsxs)("div",{className:"h-screen flex overflow-hidden bg-gray-100",children:[Object(R.jsx)(Te,{sidebarOpen:u,setSidebarOpen:m,navigation:p,secondaryNavigation:O,setCurrent:v}),Object(R.jsxs)("div",{className:"flex flex-col flex-1 min-h-screen overflow-auto focus:outline-none",children:[Object(R.jsx)(Qe,{current:p.find((function(e){return e.current}))||O.find((function(e){return e.current})),user:n,setSidebarOpen:m}),Object(R.jsxs)("main",{className:"flex flex-col flex-1 relative z-0 overflow-y-auto",children:[Object(R.jsx)(Ke,{}),Object(R.jsx)("div",{className:"my-auto py-8",children:Object(R.jsx)(t,Object(B.a)({setCurrent:v},e))})]})]})]}):Object(R.jsx)(T.a,{to:"/"}):Object(R.jsx)(T.a,{to:"/login"})}}))})),$e=function(e){var t=e.pagingCounter,a=e.limit,r=e.totalDocs,s=e.hasPrevPage,n=e.hasNextPage,c=e.setCurrentPage;return Object(R.jsxs)("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6","aria-label":"Pagination",children:[Object(R.jsx)("div",{className:"hidden sm:block",children:Object(R.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",Object(R.jsx)("span",{className:"font-medium",children:t})," to"," ",Object(R.jsx)("span",{className:"font-medium",children:t+a-1>r?r:t+a-1})," ","of ",Object(R.jsx)("span",{className:"font-medium",children:r})," results"]})}),Object(R.jsxs)("div",{className:"flex-1 flex justify-between sm:justify-end",children:[s&&Object(R.jsx)("button",{onClick:function(){return c((function(e){return e-1}))},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),n&&Object(R.jsx)("button",{onClick:function(){return c((function(e){return e+1}))},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]})]})},et=function(){var e=Object(r.useState)(1),t=Object(c.a)(e,2),a=t[0],s=t[1],n=Object(r.useState)(10),i=Object(c.a)(n,2),m=i[0],x=(i[1],Object(d.d)((function(e){return e.order}))),b=x.orders,j=x.totalDocs,p=x.limit,h=x.pagingCounter,f=x.hasPrevPage,g=x.hasNextPage,O=Object(d.c)();Object(r.useEffect)((function(){O(Me(a,m,"checkout_complete"))}),[a,m]);var v=function(){var e=Object(o.a)(l.a.mark((function e(t){var r,s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={order_amount:t.klarna.order_amount,order_lines:t.klarna.order_lines},e.prev=1,e.next=4,se.capture(t.klarna.order_id,r);case 4:s=e.sent,n=s.message,O(k(n,3e3,"SUCCESS")),O(Me(a,m,"checkout_complete")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),O(k("Order capture failed",3e3));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("h2",{className:"max-w-6xl mx-auto mt-8 px-4 text-lg leading-6 font-medium text-gray-900 sm:px-6 lg:px-8",children:"Uncaptured orders"}),Object(R.jsxs)("div",{className:"shadow sm:hidden",children:[Object(R.jsx)("ul",{className:"mt-2 divide-y divide-gray-200 overflow-hidden shadow sm:hidden",children:b.map((function(e){return Object(R.jsx)("li",{children:Object(R.jsx)(u.b,{to:"/admin/orders/".concat(e.id),className:"block px-4 py-4 bg-white hover:bg-gray-50",children:Object(R.jsxs)("span",{className:"flex items-center space-x-4",children:[Object(R.jsxs)("span",{className:"flex-1 flex space-x-2 truncate",children:[Object(R.jsx)(H.d,{className:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(R.jsxs)("span",{className:"flex flex-col text-gray-500 text-sm truncate",children:[Object(R.jsxs)("span",{className:"truncate",children:[Object(R.jsx)("span",{className:"text-gray-900 font-medium",children:"Order ID"})," ",e.id]}),Object(R.jsxs)("span",{children:[Object(R.jsx)("span",{className:"text-gray-900 font-medium",children:"Completed at"})," ",Object(y.default)(new Date(e.completed_at),"dd.MM.yyyy HH:mm")]})]})]}),Object(R.jsx)(H.c,{className:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"})]})})},e.id)}))}),Object(R.jsx)("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200","aria-label":"Pagination",children:Object(R.jsxs)("div",{className:"flex-1 flex justify-between",children:[Object(R.jsx)("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",children:"Previous"}),Object(R.jsx)("button",{className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",children:"Next"})]})})]}),Object(R.jsx)("div",{className:"hidden sm:block",children:Object(R.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(R.jsx)("div",{className:"flex flex-col mt-2",children:Object(R.jsxs)("div",{className:"align-middle min-w-full overflow-x-auto shadow overflow-hidden sm:rounded-lg",children:[Object(R.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(R.jsx)("thead",{children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),Object(R.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map((function(e){return Object(R.jsxs)("tr",{className:"bg-white",children:[Object(R.jsx)("td",{className:"max-w-0 w-full px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Object(R.jsx)("div",{className:"flex",children:Object(R.jsxs)(u.b,{to:"/admin/orders/".concat(e.id),className:"group inline-flex space-x-2 truncate text-sm",children:[Object(R.jsx)(H.d,{className:"flex-shrink-0 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),Object(R.jsx)("p",{className:"text-gray-500 truncate group-hover:text-gray-900",children:e.id})]})})}),Object(R.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Object(y.default)(new Date(e.completed_at),"dd.MM.yyyy HH:mm")}),Object(R.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.user.first_name," ",e.user.last_name]}),Object(R.jsx)("td",{className:"px-6 py-2 text-right whitespace-nowrap text-sm text-gray-500",children:Object(R.jsx)("button",{onClick:function(){return v(e)},className:"inline-flex items-center text-center px-4 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Capture funds"})})]},e.id)}))})]}),Object(R.jsx)($e,{pagingCounter:h,limit:p,totalDocs:j,hasNextPage:g,hasPrevPage:f,setCurrentPage:s})]})})})})]})},tt=function(e){var t=e.card;return Object(R.jsxs)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[Object(R.jsx)("div",{className:"p-5",children:Object(R.jsxs)("div",{className:"flex items-center",children:[Object(R.jsx)("div",{className:"flex-shrink-0",children:Object(R.jsx)(t.icon,{className:"h-6 w-6 text-gray-400","aria-hidden":"true"})}),Object(R.jsx)("div",{className:"ml-5 w-0 flex-1",children:Object(R.jsxs)("dl",{children:[Object(R.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:t.name}),Object(R.jsx)("dd",{children:Object(R.jsx)("div",{className:"text-lg font-medium text-gray-900",children:t.amount})})]})})]})}),Object(R.jsx)("div",{className:"bg-gray-50 px-5 py-3",children:Object(R.jsx)("div",{className:"text-sm",children:Object(R.jsx)(u.b,{to:t.href,className:"font-medium text-cyan-700 hover:text-cyan-900",children:"View all"})})})]})},at=function(e){var t=e.cards;return Object(R.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[Object(R.jsx)("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Overview"}),Object(R.jsx)("div",{className:"mt-2 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",children:t.map((function(e){return Object(R.jsx)(tt,{card:e},e.name)}))})]})},rt=function(e){var t=e.setCurrent,a=Object(r.useState)([]),s=Object(c.a)(a,2),n=s[0],i=s[1],l=Object(d.d)((function(e){return e.user})),o=Object(d.d)((function(e){return e.order})),u=Object(d.d)((function(e){return e.membership})).memberships,m=Object(d.c)();return Object(r.useEffect)((function(){t("Home"),m(De(1,1)),m(qe())}),[]),Object(r.useEffect)((function(){var e=u.filter((function(e){return new Date(e.end_date)>new Date})),t=[{name:"Users",href:"/admin/users",icon:j.n,amount:l.totalDocs},{name:"Uncaptured orders",href:"/admin/orders",icon:j.d,amount:o.totalDocs},{name:"Active memberships",href:"/admin/memberships",icon:j.l,amount:e.length}];i(t)}),[l,o,u]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(at,{cards:n}),Object(R.jsx)(et,{})]})},st=function(e){var t=e.setCurrent,a=Object(r.useState)(1),s=Object(c.a)(a,2),n=s[0],i=s[1],l=Object(r.useState)(10),o=Object(c.a)(l,2),m=o[0],x=(o[1],Object(d.d)((function(e){return e.user}))),b=x.users,j=x.totalDocs,p=x.limit,h=x.pagingCounter,f=x.hasPrevPage,g=x.hasNextPage,O=Object(d.c)();Object(r.useEffect)((function(){t("Users"),O(De(n,m))}),[n,m]);var y=function(e){return e.memberships.some((function(e){return new Date(e.end_date>Date.now())}))},v=function(e){var t=new Date,a=new Date(e.birth_date),r=t.getFullYear()-a.getFullYear(),s=t.getMonth()-a.getMonth();return(s<0||0===s&&t.getDate()<a.getDate())&&r--,r};return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("h2",{className:"max-w-6xl mx-auto px-4 text-lg leading-6 font-medium text-gray-900 sm:px-6 lg:px-8",children:"Users"}),Object(R.jsxs)("div",{className:"shadow sm:hidden",children:[Object(R.jsx)("ul",{className:"mt-2 divide-y divide-gray-200 overflow-hidden shadow sm:hidden",children:b.map((function(e){return Object(R.jsx)("li",{children:Object(R.jsx)(u.b,{to:"/admin/users/".concat(e.id),className:"block px-4 py-4 bg-white hover:bg-gray-50",children:Object(R.jsxs)("span",{className:"flex items-center space-x-4",children:[Object(R.jsxs)("span",{className:"flex-1 flex space-x-2 truncate",children:[Object(R.jsx)(H.k,{className:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(R.jsxs)("span",{className:"flex flex-col text-gray-500 text-sm truncate",children:[Object(R.jsxs)("span",{className:"truncate",children:[e.first_name," ",e.last_name," (",e.email,")"]}),Object(R.jsxs)("span",{children:[Object(R.jsx)("span",{className:"text-gray-900 font-medium",children:"Membership"})," ",y(e)?Object(R.jsx)(H.a,{className:"flex-shrink-0 inline-block h-5 w-5 text-green-400 group-hover:text-gray-500","aria-hidden":"true"}):Object(R.jsx)(H.m,{className:"flex-shrink-0 inline-block h-5 w-5 text-red-400 group-hover:text-gray-500","aria-hidden":"true"})]})]})]}),Object(R.jsx)(H.c,{className:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"})]})})},e.id)}))}),Object(R.jsx)("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200","aria-label":"Pagination",children:Object(R.jsxs)("div",{className:"flex-1 flex justify-between",children:[Object(R.jsx)("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",children:"Previous"}),Object(R.jsx)("button",{className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",children:"Next"})]})})]}),Object(R.jsx)("div",{className:"hidden sm:block",children:Object(R.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(R.jsx)("div",{className:"flex flex-col mt-2",children:Object(R.jsxs)("div",{className:"align-middle min-w-full overflow-x-auto shadow overflow-hidden sm:rounded-lg",children:[Object(R.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(R.jsx)("thead",{children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name & Email"}),Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Age"}),Object(R.jsx)("th",{className:"hidden px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider md:block",children:"City"}),Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Membership"})]})}),Object(R.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map((function(e){return Object(R.jsxs)("tr",{className:"bg-white",children:[Object(R.jsx)("td",{className:"max-w-0 w-full px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Object(R.jsx)("div",{className:"flex",children:Object(R.jsxs)(u.b,{to:"/admin/users/".concat(e.id),className:"group inline-flex space-x-2 truncate text-sm",children:[Object(R.jsx)(H.k,{className:"flex-shrink-0 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),Object(R.jsxs)("p",{className:"text-gray-500 truncate group-hover:text-gray-900",children:[e.first_name," ",e.last_name," (",e.email,")"]})]})})}),Object(R.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v(e)}),Object(R.jsx)("td",{className:"hidden px-6 py-4 whitespace-nowrap text-sm text-gray-500 md:block",children:e.city}),Object(R.jsx)("td",{className:"px-6 py-4 text-right whitespace-nowrap text-sm text-gray-500",children:y(e)?Object(R.jsx)(H.a,{className:"flex-shrink-0 h-5 w-5 m-auto text-green-400 group-hover:text-gray-500","aria-hidden":"true"}):Object(R.jsx)(H.m,{className:"flex-shrink-0 h-5 w-5 m-auto text-red-400 group-hover:text-gray-500","aria-hidden":"true"})})]},e.id)}))})]}),Object(R.jsx)($e,{pagingCounter:h,limit:p,totalDocs:j,hasNextPage:g,hasPrevPage:f,setCurrentPage:i})]})})})})]})},nt=function(){var e=Object(T.g)();return Object(R.jsx)("div",{className:"max-w-max mx-auto",children:Object(R.jsxs)("main",{className:"sm:flex",children:[Object(R.jsx)("p",{className:"text-4xl font-extrabold text-indigo-600 sm:text-5xl",children:"404"}),Object(R.jsxs)("div",{className:"sm:ml-6",children:[Object(R.jsxs)("div",{className:"sm:border-l sm:border-gray-200 sm:pl-6",children:[Object(R.jsx)("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight sm:text-5xl",children:"Not found"}),Object(R.jsx)("p",{className:"mt-1 text-base text-gray-500",children:"The resource you were looking for is missing."})]}),Object(R.jsx)("div",{className:"mt-10 flex space-x-3 sm:border-l sm:border-transparent sm:pl-6",children:Object(R.jsx)("button",{onClick:function(){return e.goBack()},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go back"})})]})]})})},ct=function(e){var t,a,s=e.setCurrent,n=Object(r.useState)(),i=Object(c.a)(n,2),u=i[0],m=i[1],x=Object(r.useState)(!1),b=Object(c.a)(x,2),j=b[0],p=b[1],h=Object(d.d)((function(e){return e.user})).user,g=Object(d.c)(),O=Object(T.i)().id;Object(r.useEffect)((function(){var e;g((e=O,function(){var t=Object(o.a)(l.a.mark((function t(a){var r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.get(e);case 3:r=t.sent,a({type:"GET_USER",payload:r}),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"GET_USER_FAILED"}),(s=t.t0.response.data.errors)&&s.forEach((function(e){return a(k(e.msg,3e3))}));case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),s("Users")}),[g,O]),Object(r.useEffect)((function(){h.id&&m({id:h.id,email:h.email,first_name:h.first_name,last_name:h.last_name,phone_number:h.phone_number,street_address:h.street_address,postal_code:h.postal_code,city:h.city,birth_date:h.birth_date})}),[h]);return h.failed?Object(R.jsx)(nt,{}):h.loading||!u?Object(R.jsx)(ke,{color:"auto"}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("h2",{className:"max-w-6xl mx-auto px-4 text-lg leading-6 font-medium text-gray-900 sm:px-6 lg:px-8",children:"Edit user"}),Object(R.jsxs)("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0 mt-2",children:[Object(R.jsxs)("dl",{className:"sm:divide-y sm:divide-gray-200 mb-10",children:[Object(R.jsx)(ye,{title:"First name",name:"first_name",type:"text",value:u.first_name,updatedObject:u,setUpdatedObject:m,setHasUnsavedChanges:p}),Object(R.jsx)(ye,{title:"Last name",name:"last_name",type:"text",value:u.last_name,updatedObject:u,setUpdatedObject:m,setHasUnsavedChanges:p}),Object(R.jsx)(ye,{title:"Email address",name:"email",type:"text",value:u.email,updatedObject:u,setUpdatedObject:m,setHasUnsavedChanges:p}),Object(R.jsx)(ye,{title:"Phone number",name:"phone_number",type:"text",value:u.phone_number,updatedObject:u,setUpdatedObject:m,setHasUnsavedChanges:p}),Object(R.jsx)(ye,{title:"Street address",name:"street_address",type:"text",value:u.street_address,updatedObject:u,setUpdatedObject:m,setHasUnsavedChanges:p}),Object(R.jsx)(ye,{title:"Postal code",name:"postal_code",type:"text",value:u.postal_code,updatedObject:u,setUpdatedObject:m,setHasUnsavedChanges:p}),Object(R.jsx)(ye,{title:"City",name:"city",type:"text",value:u.city,updatedObject:u,setUpdatedObject:m,setHasUnsavedChanges:p}),Object(R.jsx)(Ne,{title:"Birth date",name:"birth_date",nextMonthButtonLabel:">",previousMonthButtonLabel:"<",dateFormat:"dd/MM/yyyy",value:u.birth_date?new Date(u.birth_date):null,updatedObject:u,setUpdatedObject:m,setHasUnsavedChanges:p}),Object(R.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 lg:px-8",children:[Object(R.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Memberships"}),Object(R.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(null===(t=h.memberships)||void 0===t?void 0:t.length)>0?Object(R.jsx)("ul",{className:"border border-gray-200 rounded-md divide-y divide-gray-200",children:h.memberships.filter((function(e){return new Date(e.end_date)>Date.now()})).map((function(e){return Object(R.jsx)("li",{className:"pl-3 pr-4 py-3 flex items-center justify-between text-sm",children:Object(R.jsxs)("div",{className:"w-0 flex-1 flex items-center",children:[Object(R.jsx)(H.a,{className:"flex-shrink-0 h-5 w-5 text-green-500","aria-hidden":"true"}),Object(R.jsxs)("span",{className:"ml-2 flex-1 w-0 truncate",children:["Active Membership (",Object(ge.a)(new Date(e.end_date),Date.now())," ","left)"]})]})},e.id)}))}):Object(R.jsx)("p",{children:"No active memberships"})})]}),Object(R.jsxs)("div",{className:"py-4 sm:pt-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 lg:px-8",children:[Object(R.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Orders"}),Object(R.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(null===(a=h.orders)||void 0===a?void 0:a.length)>0?Object(R.jsx)("ul",{className:"border border-gray-200 rounded-md divide-y divide-gray-200",children:h.orders.map((function(e){return Object(R.jsx)("li",{className:"pl-3 pr-4 py-3 flex items-center justify-between text-sm",children:Object(R.jsxs)("div",{className:"w-0 flex-1 flex items-center",children:[Object(R.jsx)(H.a,{className:f("checkout_complete"===e.status?"text-green-500":"text-yellow-500","flex-shrink-0 h-5 w-5"),"aria-hidden":"true"}),Object(R.jsxs)("span",{className:"ml-2 flex-1 w-0 truncate",children:["Order ID: ",e.id]})]})},e.id)}))}):Object(R.jsx)("p",{children:"No orders made yet"})})]})]}),j&&Object(R.jsx)(_e,{save:function(){g(function(e,t){return function(){var a=Object(o.a)(l.a.mark((function a(r){var s,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_.update(e,t);case 3:s=a.sent,r({type:"UPDATE_SINGLE_USER",payload:s}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),(n=a.t0.response.data.error)&&r(k(n,3e3));case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(O,u)),p(!1)}})]})]})},it={reference:"",name:"",membership_length:"",unit_price:"",tax_rate:""},lt=Y.d({reference:Y.f().required("Reference is required"),name:Y.f().required("Name is required"),membership_length:Y.c("Membership length must be a number").typeError("Membership length must be a number"),unit_price:Y.c("Price must be a number").typeError("Price must be a number").required("Price is required"),tax_rate:Y.c("Tax rate must be a number").typeError("Tax rate must be a number").required("Tax rate is required")}),ot=function(e){var t=e.setCreating,a=e.allCategories,r=Object(d.c)(),s=function(e){var a;r((a=e,function(){var e=Object(o.a)(l.a.mark((function e(t){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae.create(a);case 3:r=e.sent,t({type:"CREATE_PRODUCT",payload:r}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(s=e.t0.response.data.errors)&&s.forEach((function(e){return t(k(e.msg,3e3))}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),t(!1)};return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("div",{className:"flex-1 flex justify-between max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[Object(R.jsx)("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Create a product"}),Object(R.jsx)("button",{onClick:function(){return t(!1)},className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"})]}),Object(R.jsx)("div",{className:"py-8 px-4 shadow sm:rounded-lg sm:px-10",children:Object(R.jsx)(W.d,{initialValues:it,validationSchema:lt,onSubmit:function(e){s(e)},children:Object(R.jsxs)(W.c,{className:"space-y-6",children:[Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"name",children:"Name"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"name"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"reference",children:"Reference"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"reference",name:"reference",type:"text",autoComplete:"reference",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"reference"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"category",children:"Category"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsxs)(W.b,{as:"select",id:"category",name:"category",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm",children:[Object(R.jsx)("option",{value:"",children:"Select (optional)"}),a.map((function(e){return Object(R.jsx)("option",{value:e.id,children:e.name},e.id)}))]})}),Object(R.jsx)(W.a,{name:"category"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"membership_length",children:"Membership length"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"membership_length",name:"membership_length",type:"number",autoComplete:"membership_length",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"membership_length"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"unit_price",children:"Price"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"unit_price",name:"unit_price",type:"number",autoComplete:"unit_price",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"unit_price"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"tax_rate",children:"Tax rate"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"tax_rate",name:"tax_rate",type:"number",autoComplete:"tax_rate",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"tax_rate"})]}),Object(R.jsx)("div",{children:Object(R.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-700 hover:bg-cyan-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500",children:"Create"})})]})})})]})},dt=function(e){var t=e.setCurrent,a=Object(r.useState)(!1),s=Object(c.a)(a,2),n=s[0],i=s[1],m=Object(r.useState)(1),x=Object(c.a)(m,2),b=x[0],j=x[1],p=Object(r.useState)(10),h=Object(c.a)(p,2),f=h[0],g=(h[1],Object(d.d)((function(e){return e.product}))),O=g.products,y=g.totalDocs,v=g.limit,w=g.pagingCounter,N=g.hasPrevPage,_=g.hasNextPage,C=Object(d.d)((function(e){return e.category})).allCategories,E=Object(d.c)();return Object(r.useEffect)((function(){t("Products"),E(function(e,t){return function(){var a=Object(o.a)(l.a.mark((function a(r){var s,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ae.getAll(e,t);case 3:s=a.sent,r({type:"GET_PRODUCTS",payload:s}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),(n=a.t0.response.data.errors)&&n.forEach((function(e){return r(k(e.msg,3e3))}));case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(b,f))}),[b,f]),n?Object(R.jsx)(ot,{allCategories:C,setCreating:i}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("div",{className:"flex-1 flex justify-between max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[Object(R.jsx)("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Products"}),Object(R.jsx)("button",{onClick:function(){E(P()),i(!0)},className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"New product"})]}),Object(R.jsxs)("div",{className:"shadow sm:hidden",children:[Object(R.jsx)("ul",{className:"mt-2 divide-y divide-gray-200 overflow-hidden shadow sm:hidden",children:O.map((function(e){return Object(R.jsx)("li",{children:Object(R.jsx)(u.b,{to:"/admin/products/".concat(e.id),className:"block px-4 py-4 bg-white hover:bg-gray-50",children:Object(R.jsxs)("span",{className:"flex items-center space-x-4",children:[Object(R.jsxs)("span",{className:"flex-1 flex space-x-2 truncate",children:[Object(R.jsx)(H.g,{className:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(R.jsxs)("span",{className:"flex flex-col text-gray-500 text-sm truncate",children:[Object(R.jsxs)("span",{className:"truncate",children:[e.name," (",e.reference,")"]}),Object(R.jsxs)("span",{children:[Object(R.jsx)("span",{className:"text-gray-900 font-medium",children:"Purchased"})," ",e.times_purchased," times"]})]})]}),Object(R.jsx)(H.c,{className:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"})]})})},e.id)}))}),Object(R.jsx)("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200","aria-label":"Pagination",children:Object(R.jsxs)("div",{className:"flex-1 flex justify-between",children:[Object(R.jsx)("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",children:"Previous"}),Object(R.jsx)("button",{className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",children:"Next"})]})})]}),Object(R.jsx)("div",{className:"hidden sm:block",children:Object(R.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(R.jsx)("div",{className:"flex flex-col mt-2",children:Object(R.jsxs)("div",{className:"align-middle min-w-full overflow-x-auto shadow overflow-hidden sm:rounded-lg",children:[Object(R.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(R.jsx)("thead",{children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name & Reference"}),Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Purchased"}),Object(R.jsx)("th",{className:"hidden px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider md:block",children:"Price"}),Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Income"})]})}),Object(R.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map((function(e){return Object(R.jsxs)("tr",{className:"bg-white",children:[Object(R.jsx)("td",{className:"max-w-0 w-full px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Object(R.jsx)("div",{className:"flex",children:Object(R.jsxs)(u.b,{to:"/admin/products/".concat(e.id),className:"group inline-flex space-x-2 truncate text-sm",children:[Object(R.jsx)(H.g,{className:"flex-shrink-0 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),Object(R.jsxs)("p",{className:"text-gray-500 truncate group-hover:text-gray-900",children:[e.name," (",e.reference,")"]})]})})}),Object(R.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.times_purchased," times"]}),Object(R.jsxs)("td",{className:"hidden px-6 py-4 whitespace-nowrap text-sm text-gray-500 md:block",children:[e.unit_price,"\u20ac"]}),Object(R.jsxs)("td",{className:"px-6 py-4 text-right whitespace-nowrap text-sm text-gray-500",children:[e.times_purchased*e.unit_price,"\u20ac"]})]},e.id)}))})]}),Object(R.jsx)($e,{pagingCounter:w,limit:v,totalDocs:y,hasNextPage:_,hasPrevPage:N,setCurrentPage:j})]})})})})]})},ut=a(26),mt=function(e){var t=e.title,a=e.name,s=e.value,n=e.updatedObject,i=e.setUpdatedObject,l=e.setHasUnsavedChanges,o=e.listItems,d=Object(r.useState)(!1),u=Object(c.a)(d,2),m=(u[0],u[1]),x=Object(r.useState)(s),b=Object(c.a)(x,2),j=b[0],p=b[1];Object(r.useEffect)((function(){h()}),[j]),Object(r.useEffect)((function(){p(s)}),[s]);var h=function(){JSON.stringify(j)!==JSON.stringify(s)?(i(Object(B.a)(Object(B.a)({},n),{},Object(Oe.a)({},a,j))),l(!0)):l(!1),m(!1)};return Object(R.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 lg:px-8",children:[Object(R.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:t}),Object(R.jsxs)("fieldset",{className:"space-y-5",children:[Object(R.jsx)("legend",{className:"sr-only",children:t}),o.map((function(e){return Object(R.jsxs)("div",{className:"relative flex items-start",children:[Object(R.jsx)("div",{className:"flex items-center h-5",children:Object(R.jsx)("input",{id:e.id,"aria-describedby":"description",name:e.id,defaultChecked:s.includes(e.id),onChange:function(e){return function(e){e.target.checked?p([].concat(Object(ut.a)(j),[e.target.name])):p(j.filter((function(t){return t!==e.target.name})))}(e)},type:"checkbox",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),Object(R.jsxs)("div",{className:"ml-3 text-sm",children:[Object(R.jsx)("label",{htmlFor:e.id,className:"font-medium text-gray-700",children:e.code}),Object(R.jsxs)("p",{id:"description",className:"text-gray-500",children:[e.value,"\u20ac"]})]})]},e.id)}))]})]})},xt=function(e){var t=e.title,a=e.name,s=e.value,n=e.updatedObject,i=e.setUpdatedObject,l=e.setHasUnsavedChanges,o=e.listItems,d=Object(r.useState)(!1),u=Object(c.a)(d,2),m=(u[0],u[1]),x=Object(r.useState)(s),b=Object(c.a)(x,2),j=b[0],p=b[1];Object(r.useEffect)((function(){h()}),[j]),Object(r.useEffect)((function(){p(s)}),[s]);var h=function(){j!==s?(i(Object(B.a)(Object(B.a)({},n),{},Object(Oe.a)({},a,j))),l(!0)):l(!1),m(!1)};return Object(R.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 lg:px-8",children:[Object(R.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:t}),Object(R.jsx)("div",{className:"flex items-center h-5",children:Object(R.jsxs)("select",{id:"list_items",name:"list_items",onChange:function(e){return function(e){p(e.target.value)}(e)},value:j,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm",children:[Object(R.jsx)("option",{value:"",children:"Select (optional)"}),o.map((function(e){return Object(R.jsx)("option",{value:e.id,children:e.name},e.id)}))]})})]})},bt=function(e){var t=e.setCurrent,a=Object(r.useState)(),s=Object(c.a)(a,2),n=s[0],i=s[1],u=Object(r.useState)(!1),m=Object(c.a)(u,2),x=m[0],b=m[1],j=Object(d.d)((function(e){return e.product})).product,p=Object(d.d)((function(e){return e.coupon})).coupons,h=Object(d.d)((function(e){return e.category})).allCategories,f=Object(d.c)(),g=Object(T.g)(),O=Object(T.i)().id;Object(r.useEffect)((function(){var e;f((e=O,function(){var t=Object(o.a)(l.a.mark((function t(a){var r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ae.get(e);case 3:r=t.sent,a({type:"GET_PRODUCT",payload:r}),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"GET_PRODUCT_FAILED"}),(s=t.t0.response.data.errors)&&s.forEach((function(e){return a(k(e.msg,3e3))}));case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),f(Ve(1,10)),f(P()),t("Products")}),[f,O]),Object(r.useEffect)((function(){j&&i({id:j.id,type:j.type,quantity_unit:j.quantity_unit,times_purchased:j.times_purchased,reference:j.reference,name:j.name,unit_price:j.unit_price,tax_rate:j.tax_rate,membership_length:j.membership_length,valid_coupons:j.valid_coupons})}),[j]);var y=function(){var e;window.confirm("Are you sure you want to remove this product?")&&(f((e=O,function(){var t=Object(o.a)(l.a.mark((function t(a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ae.remove(e);case 3:a({type:"REMOVE_PRODUCT",payload:e}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),(r=t.t0.response.data.errors)&&r.forEach((function(e){return a(k(e.msg,3e3))}));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}())),g.push("/admin/products"))};return j.failed?Object(R.jsx)(nt,{}):j.loading||!n?Object(R.jsx)(ke,{color:"auto"}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("h2",{className:"max-w-6xl mx-auto px-4 text-lg leading-6 font-medium text-gray-900 sm:px-6 lg:px-8",children:"Edit a product"}),Object(R.jsxs)("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0 mt-2",children:[Object(R.jsxs)("dl",{className:"sm:divide-y sm:divide-gray-200 mb-10",children:[Object(R.jsx)(ye,{title:"Name",name:"name",type:"text",value:n.name,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(ye,{title:"Reference",name:"reference",type:"text",value:n.reference,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(xt,{title:"Category",name:"category",value:j.category||"",listItems:h,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(ye,{title:"Type",name:"type",type:"text",value:n.type,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(ye,{title:"Price (\u20ac)",name:"unit_price",type:"number",value:n.unit_price,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(ye,{title:"Tax rate (%)",name:"tax_rate",type:"number",value:n.tax_rate,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(ye,{title:"Quantity unit",name:"quantity_unit",type:"text",value:n.quantity_unit,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(mt,{title:"Valid coupons",name:"valid_coupons",type:"text",listItems:p,value:j.valid_coupons||[],updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(ye,{title:"Membership length (months)",name:"membership_length",type:"number",value:n.membership_length,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(ye,{title:"Times purchased",name:"times_purchased",type:"number",value:n.times_purchased,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)("div",{className:"py-4 sm:py-5 m:px-6 lg:px-8",children:Object(R.jsx)("button",{onClick:function(){return y()},className:"inline-flex items-center text-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Remove product"})})]}),x&&Object(R.jsx)(_e,{save:function(){var e,t;f((e=O,t=n,function(){var a=Object(o.a)(l.a.mark((function a(r){var s,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ae.update(e,t);case 3:s=a.sent,r({type:"UPDATE_PRODUCT",payload:s}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),(n=a.t0.response.data.errors)&&n.forEach((function(e){return r(k(e.msg,3e3))}));case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}())),b(!1)}})]})]})},jt=function(e){var t=e.setCurrent,a=Object(r.useState)(1),s=Object(c.a)(a,2),n=s[0],i=s[1],l=Object(r.useState)(10),o=Object(c.a)(l,2),m=o[0],x=(o[1],Object(d.d)((function(e){return e.order}))),b=x.orders,j=x.totalDocs,p=x.limit,h=x.pagingCounter,f=x.hasPrevPage,g=x.hasNextPage,O=Object(d.c)();return Object(r.useEffect)((function(){t("Orders"),O(Me(n,m))}),[n,m]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:"flex-1 flex justify-between max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(R.jsx)("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Orders"})}),Object(R.jsxs)("div",{className:"shadow sm:hidden",children:[Object(R.jsx)("ul",{className:"mt-2 divide-y divide-gray-200 overflow-hidden shadow sm:hidden",children:b.map((function(e){return Object(R.jsx)("li",{children:Object(R.jsx)(u.b,{to:"/admin/orders/".concat(e.id),className:"block px-4 py-4 bg-white hover:bg-gray-50",children:Object(R.jsxs)("span",{className:"flex items-center space-x-4",children:[Object(R.jsxs)("span",{className:"flex-1 flex space-x-2 truncate",children:[Object(R.jsx)(H.d,{className:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(R.jsxs)("span",{className:"flex flex-col text-gray-500 text-sm truncate",children:[Object(R.jsxs)("span",{className:"truncate",children:[Object(R.jsx)("span",{className:"text-gray-900 font-medium",children:"Order ID"})," ",e.id]}),Object(R.jsxs)("span",{children:[Object(R.jsx)("span",{className:"text-gray-900 font-medium",children:"Completed at"})," ",Object(y.default)(new Date(e.completed_at),"dd.MM.yyyy HH:mm")]})]})]}),Object(R.jsx)(H.c,{className:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"})]})})},e.id)}))}),Object(R.jsx)("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200","aria-label":"Pagination",children:Object(R.jsxs)("div",{className:"flex-1 flex justify-between",children:[Object(R.jsx)("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",children:"Previous"}),Object(R.jsx)("button",{className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",children:"Next"})]})})]}),Object(R.jsx)("div",{className:"hidden sm:block",children:Object(R.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(R.jsx)("div",{className:"flex flex-col mt-2",children:Object(R.jsxs)("div",{className:"align-middle min-w-full overflow-x-auto shadow overflow-hidden sm:rounded-lg",children:[Object(R.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(R.jsx)("thead",{children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed"})]})}),Object(R.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map((function(e){return Object(R.jsxs)("tr",{className:"bg-white",children:[Object(R.jsx)("td",{className:"max-w-0 w-full px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Object(R.jsx)("div",{className:"flex",children:Object(R.jsxs)(u.b,{to:"/admin/orders/".concat(e.id),className:"group inline-flex space-x-2 truncate text-sm",children:[Object(R.jsx)(H.d,{className:"flex-shrink-0 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),Object(R.jsx)("p",{className:"text-gray-500 truncate group-hover:text-gray-900",children:e.id})]})})}),Object(R.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Object(y.default)(new Date(e.completed_at),"dd.MM.yyyy HH:mm")}),Object(R.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.user.first_name," ",e.user.last_name]}),Object(R.jsx)("td",{className:"px-6 py-4 text-right whitespace-nowrap text-sm text-gray-500",children:"checkout_complete"===e.status||"order_captured"===e.status?Object(R.jsx)(H.a,{className:"flex-shrink-0 h-5 w-5 m-auto text-green-400 group-hover:text-gray-500","aria-hidden":"true"}):Object(R.jsx)(H.m,{className:"flex-shrink-0 h-5 w-5 m-auto text-red-400 group-hover:text-gray-500","aria-hidden":"true"})})]},e.id)}))})]}),Object(R.jsx)($e,{pagingCounter:h,limit:p,totalDocs:j,hasNextPage:g,hasPrevPage:f,setCurrentPage:i})]})})})})]})},pt=function(e){var t,a,s,n,c=e.setCurrent,i=Object(d.d)((function(e){return e.order})).order,m=Object(d.c)(),x=Object(T.g)(),b=Object(T.i)().id;Object(r.useEffect)((function(){m(He(b)),c("Orders")}),[m,b]);var j=function(){window.confirm("Are you sure you want to cancel/refund and remove this order?")&&m(function(e,t){return function(){var a=Object(o.a)(l.a.mark((function a(r){var s;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Fe.remove(e);case 3:r({type:"REMOVE_ORDER",payload:e}),t.push("/admin/orders"),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),(s=a.t0.response.data.errors)&&s.forEach((function(e){return r(k(e.msg,3e3))}));case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(b,x))},p=function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={order_amount:i.klarna.order_amount,order_lines:i.klarna.order_lines},e.prev=1,e.next=4,se.capture(i.klarna.order_id,t);case 4:a=e.sent,r=a.message,m(k(r,3e3,"SUCCESS")),m(He(b)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),m(k("Order capture failed",3e3));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return i.failed?Object(R.jsx)(nt,{}):i.loading?Object(R.jsx)(ke,{color:"auto"}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("div",{className:"flex mx-auto",children:[Object(R.jsx)("h2",{className:"flex-1 px-4 sm:px-6 lg:px-8 text-lg leading-6 font-medium text-gray-900",children:"Order details"}),Object(R.jsx)("h2",{className:"flex-1 px-4 sm:px-6 lg:px-8 text-lg leading-6 font-medium text-gray-900",children:"Products"})]}),Object(R.jsx)("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0 mt-2",children:Object(R.jsxs)("div",{className:"flex",children:[Object(R.jsxs)("dl",{className:"flex-1 sm:divide-y sm:divide-gray-200",children:[Object(R.jsx)(ye,{title:"Internal order ID",name:"id",type:"text",editable:!1,value:i.id}),Object(R.jsx)(ye,{title:"User",name:"user",type:"text",editable:!1,value:Object(R.jsxs)(u.b,{to:"/admin/users/".concat(null===(t=i.user)||void 0===t?void 0:t._id),className:"text-cyan-600 hover:text-cyan-500",children:[null===(a=i.user)||void 0===a?void 0:a.first_name," ",null===(s=i.user)||void 0===s?void 0:s.last_name]})}),Object(R.jsx)(ye,{title:"Status",name:"staus",type:"text",editable:!1,value:i.status}),Object(R.jsx)(ye,{title:"Amount (\u20ac)",name:"order_amount",type:"number",editable:!1,value:i.order_amount}),Object(R.jsx)(ye,{title:"Tax amount (\u20ac)",name:"order_tax_amount",type:"number",editable:!1,value:i.order_tax_amount}),Object(R.jsx)(Ne,{title:"Order started",name:"started_at",editable:!1,nextMonthButtonLabel:">",previousMonthButtonLabel:"<",dateFormat:"dd/MM/yyyy HH:mm",value:i.started_at?new Date(i.started_at):null}),Object(R.jsx)(Ne,{title:"Order completed",name:"completed_at",editable:!1,nextMonthButtonLabel:">",previousMonthButtonLabel:"<",dateFormat:"dd/MM/yyyy HH:mm",value:i.completed_at?new Date(i.completed_at):null}),Object(R.jsx)("div",{className:"py-4 sm:py-5 m:px-6 lg:px-8",children:Object(R.jsx)("button",{onClick:function(){return j()},className:"inline-flex items-center text-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"order_captured"===i.status?"Refund order":"Cancel order"})})]}),Object(R.jsxs)("dl",{className:"flex-1 sm:divide-y sm:divide-gray-200",children:[null===(n=i.products)||void 0===n?void 0:n.map((function(e){return Object(R.jsx)(ye,{title:"Product",name:"id",type:"text",editable:!1,value:Object(R.jsx)(u.b,{className:"text-cyan-600 hover:text-cyan-500",to:"/admin/products/".concat(e._id),children:e.name})},e._id)})),i.klarna&&Object(R.jsxs)("div",{className:"flex-1 sm:divide-y sm:divide-gray-200",children:[Object(R.jsx)("h2",{className:"mt-8 mb-1 px-4 sm:px-6 lg:px-8 text-lg leading-6 font-medium text-gray-900",children:"Klarna"}),Object(R.jsx)(ye,{title:"Order ID",name:"order_id",type:"text",editable:!1,value:i.klarna.order_id}),Object(R.jsx)(ye,{title:"Status",name:"status",type:"text",editable:!1,value:i.klarna.status}),Object(R.jsx)(ye,{title:"Payment method",name:"payment_method",type:"text",editable:!1,value:i.klarna.initial_payment_method.description}),Object(R.jsx)(ye,{title:"Purchase country",name:"purchase_country",type:"text",editable:!1,value:i.klarna.purchase_country}),"CAPTURED"===i.klarna.status?Object(R.jsx)(Ne,{title:"Funds captured",name:"captured_at",editable:!1,nextMonthButtonLabel:">",previousMonthButtonLabel:"<",dateFormat:"dd/MM/yyyy HH:mm",value:i.klarna.captures[0].captured_at?new Date(i.klarna.captures[0].captured_at):null}):Object(R.jsx)("div",{className:"py-4 sm:py-5 m:px-6 lg:px-8",children:Object(R.jsx)("button",{onClick:function(){return p()},className:"inline-flex items-center text-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Capture funds"})})]})]})]})})]})},ht=function(e){var t=e.setCurrent,a=Object(r.useState)(1),s=Object(c.a)(a,2),n=s[0],i=s[1],l=Object(r.useState)(10),o=Object(c.a)(l,2),m=o[0],x=(o[1],Object(d.d)((function(e){return e.membership}))),b=x.memberships,j=x.totalDocs,p=x.limit,h=x.pagingCounter,f=x.hasPrevPage,g=x.hasNextPage,O=Object(d.c)();return Object(r.useEffect)((function(){t("Memberships"),O(qe(n,m))}),[n,m]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:"flex-1 flex justify-between max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(R.jsx)("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Memberships"})}),Object(R.jsxs)("div",{className:"shadow sm:hidden",children:[Object(R.jsx)("ul",{className:"mt-2 divide-y divide-gray-200 overflow-hidden shadow sm:hidden",children:b.map((function(e){return Object(R.jsx)("li",{children:Object(R.jsx)(u.b,{to:"/admin/memberships/".concat(e.id),className:"block px-4 py-4 bg-white hover:bg-gray-50",children:Object(R.jsxs)("span",{className:"flex items-center space-x-4",children:[Object(R.jsxs)("span",{className:"flex-1 flex space-x-2 truncate",children:[Object(R.jsx)(H.j,{className:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(R.jsxs)("span",{className:"flex flex-col text-gray-500 text-sm truncate",children:[Object(R.jsxs)("span",{className:"truncate",children:[Object(R.jsx)("span",{className:"text-gray-900 font-medium",children:"Membership ID"})," ",e.id]}),Object(R.jsxs)("span",{children:[Object(R.jsx)("span",{className:"text-gray-900 font-medium",children:"Started at"})," ",Object(y.default)(new Date(e.start_date),"dd.MM.yyyy HH:mm")]})]})]}),Object(R.jsx)(H.c,{className:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"})]})})},e.id)}))}),Object(R.jsx)("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200","aria-label":"Pagination",children:Object(R.jsxs)("div",{className:"flex-1 flex justify-between",children:[Object(R.jsx)("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",children:"Previous"}),Object(R.jsx)("button",{className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",children:"Next"})]})})]}),Object(R.jsx)("div",{className:"hidden sm:block",children:Object(R.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(R.jsx)("div",{className:"flex flex-col mt-2",children:Object(R.jsxs)("div",{className:"align-middle min-w-full overflow-x-auto shadow overflow-hidden sm:rounded-lg",children:[Object(R.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(R.jsx)("thead",{children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Membership ID"}),Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"End Date"})]})}),Object(R.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map((function(e){return Object(R.jsxs)("tr",{className:"bg-white",children:[Object(R.jsx)("td",{className:"max-w-0 w-full px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Object(R.jsx)("div",{className:"flex",children:Object(R.jsxs)(u.b,{to:"/admin/memberships/".concat(e.id),className:"group inline-flex flex-1 space-x-2 truncate text-sm",children:[Object(R.jsx)(H.j,{className:"flex-shrink-0 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),Object(R.jsx)("p",{className:"text-gray-500 truncate group-hover:text-gray-900",children:e.id})]})})}),Object(R.jsx)("td",{className:"px-6 py-4 text-right whitespace-nowrap text-sm text-gray-500",children:Object(R.jsxs)("p",{className:"truncate",children:[e.user.first_name," ",e.user.last_name]})}),Object(R.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Object(y.default)(new Date(e.start_date),"dd.MM.yyyy HH:mm")}),Object(R.jsx)("td",{className:"px-6 py-4 text-right whitespace-nowrap text-sm text-gray-500",children:Object(y.default)(new Date(e.end_date),"dd.MM.yyyy HH:mm")})]},e.id)}))})]}),Object(R.jsx)($e,{pagingCounter:h,limit:p,totalDocs:j,hasNextPage:g,hasPrevPage:f,setCurrentPage:i})]})})})})]})},ft=function(e){var t,a,s=e.setCurrent,n=Object(r.useState)(),i=Object(c.a)(n,2),m=i[0],x=i[1],b=Object(r.useState)(!1),j=Object(c.a)(b,2),p=j[0],h=j[1],f=Object(d.d)((function(e){return e.membership})).membership,g=Object(d.c)(),O=Object(T.g)(),y=Object(T.i)().id;Object(r.useEffect)((function(){var e;g((e=y,function(){var t=Object(o.a)(l.a.mark((function t(a){var r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ge.get(e);case 3:r=t.sent,a({type:"GET_MEMBERSHIP",payload:r}),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"GET_MEMBERSHIP_FAILED"}),(s=t.t0.response.data.errors)&&s.forEach((function(e){return a(k(e.msg,3e3))}));case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),s("Memberships")}),[g,y]),Object(r.useEffect)((function(){f&&x({id:f.id,start_date:f.start_date,end_date:f.end_date})}),[f]);var v=function(){var e;window.confirm("Are you sure you want to remove this membership?")&&(g((e=y,function(){var t=Object(o.a)(l.a.mark((function t(a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ge.remove(e);case 3:a({type:"REMOVE_MEMBERSHIP",payload:e}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),(r=t.t0.response.data.errors)&&r.forEach((function(e){return a(k(e.msg,3e3))}));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}())),O.push("/admin/memberships"))};return f.failed?Object(R.jsx)(nt,{}):f.loading||!m?Object(R.jsx)(ke,{color:"auto"}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("h2",{className:"max-w-6xl mx-auto px-4 text-lg leading-6 font-medium text-gray-900 sm:px-6 lg:px-8",children:"Edit a membership"}),Object(R.jsxs)("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0 mt-2",children:[Object(R.jsxs)("dl",{className:"sm:divide-y sm:divide-gray-200 mb-10",children:[Object(R.jsx)(ye,{title:"User",name:"user",type:"text",value:"".concat(null===(t=f.user)||void 0===t?void 0:t.first_name," ").concat(null===(a=f.user)||void 0===a?void 0:a.last_name),editable:!1,updatedObject:m,setUpdatedObject:x,setHasUnsavedChanges:h}),Object(R.jsx)(ye,{title:"Order ID",name:"order",type:"text",value:Object(R.jsx)(u.b,{to:"/admin/orders/".concat(f.order),className:"text-cyan-600 hover:text-cyan-500",children:f.order}),editable:!1,updatedObject:m,setUpdatedObject:x,setHasUnsavedChanges:h}),Object(R.jsx)(Ne,{title:"Start date",name:"start_date",nextMonthButtonLabel:">",previousMonthButtonLabel:"<",dateFormat:"dd/MM/yyyy HH:mm",value:m.start_date?new Date(m.start_date):null,updatedObject:m,setUpdatedObject:x,setHasUnsavedChanges:h}),Object(R.jsx)(Ne,{title:"End date",name:"end_date",nextMonthButtonLabel:">",previousMonthButtonLabel:"<",dateFormat:"dd/MM/yyyy HH:mm",value:m.end_date?new Date(m.end_date):null,updatedObject:m,setUpdatedObject:x,setHasUnsavedChanges:h}),Object(R.jsx)("div",{className:"py-4 sm:py-5 m:px-6 lg:px-8",children:Object(R.jsx)("button",{onClick:function(){return v()},className:"inline-flex items-center text-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Remove membership"})})]}),p&&Object(R.jsx)(_e,{save:function(){var e,t;g((e=y,t=m,function(){var a=Object(o.a)(l.a.mark((function a(r){var s,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ge.update(e,t);case 3:s=a.sent,r({type:"UPDATE_MEMBERSHIP",payload:s}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),(n=a.t0.response.data.errors)&&n.forEach((function(e){return r(k(e.msg,3e3))}));case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}())),h(!1)}})]})]})},gt={code:"",value:0,active:!0},Ot=Y.d({code:Y.f().required("Code is required"),value:Y.c("Value must be a number").typeError("Value must be a number").required("Value is required"),active:Y.a("State must be a number").typeError("State must be a number").required("State is required")}),yt=function(e){var t=e.setCreating,a=Object(d.c)(),r=function(){var e=Object(o.a)(l.a.mark((function e(r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(Je(r,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("div",{className:"flex-1 flex justify-between max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[Object(R.jsx)("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Create a coupon"}),Object(R.jsx)("button",{onClick:function(){return t(!1)},className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"})]}),Object(R.jsx)("div",{className:"py-8 px-4 shadow sm:rounded-lg sm:px-10",children:Object(R.jsx)(W.d,{initialValues:gt,validationSchema:Ot,onSubmit:function(e){r(e)},children:Object(R.jsxs)(W.c,{className:"space-y-6",children:[Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"code",children:"Code"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"code",name:"code",type:"text",autoComplete:"code",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"code"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"value",children:"Value"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"value",name:"value",type:"number",autoComplete:"value",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"value"})]}),Object(R.jsx)("div",{children:Object(R.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-700 hover:bg-cyan-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500",children:"Create"})})]})})})]})},vt=function(e){var t=e.setCurrent,a=Object(r.useState)(!1),s=Object(c.a)(a,2),n=s[0],i=s[1],l=Object(r.useState)(1),o=Object(c.a)(l,2),m=o[0],x=o[1],b=Object(r.useState)(10),j=Object(c.a)(b,2),p=j[0],h=(j[1],Object(d.d)((function(e){return e.coupon}))),f=h.coupons,g=h.totalDocs,O=h.limit,y=h.pagingCounter,v=h.hasPrevPage,w=h.hasNextPage,N=Object(d.d)((function(e){return e.order})).orders,_=void 0===N?[]:N,k=Object(d.c)();Object(r.useEffect)((function(){t("Coupons"),k(Ve(m,p))}),[m,p]),Object(r.useEffect)((function(){k(Me())}),[]);return n?Object(R.jsx)(yt,{setCreating:i}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("div",{className:"flex-1 flex justify-between max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[Object(R.jsx)("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Coupons"}),Object(R.jsx)("button",{onClick:function(){return i(!0)},className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"New coupon"})]}),Object(R.jsxs)("div",{className:"shadow sm:hidden",children:[Object(R.jsx)("ul",{className:"mt-2 divide-y divide-gray-200 overflow-hidden shadow sm:hidden",children:f.map((function(e){return Object(R.jsx)("li",{children:Object(R.jsx)(u.b,{to:"/admin/coupons/".concat(e.id),className:"block px-4 py-4 bg-white hover:bg-gray-50",children:Object(R.jsxs)("span",{className:"flex items-center space-x-4",children:[Object(R.jsxs)("span",{className:"flex-1 flex space-x-2 truncate",children:[Object(R.jsx)(H.h,{className:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(R.jsxs)("span",{className:"flex flex-col text-gray-500 text-sm truncate",children:[Object(R.jsxs)("span",{className:"truncate",children:[Object(R.jsx)("span",{className:"text-gray-900 font-medium",children:"Coupon"})," ",e.code]}),Object(R.jsxs)("span",{children:[Object(R.jsx)("span",{className:"text-gray-900 font-medium",children:"Value"})," ",e.value,"\u20ac"]})]})]}),Object(R.jsx)(H.c,{className:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"})]})})},e.id)}))}),Object(R.jsx)("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200","aria-label":"Pagination",children:Object(R.jsxs)("div",{className:"flex-1 flex justify-between",children:[Object(R.jsx)("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",children:"Previous"}),Object(R.jsx)("button",{className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",children:"Next"})]})})]}),Object(R.jsx)("div",{className:"hidden sm:block",children:Object(R.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(R.jsx)("div",{className:"flex flex-col mt-2",children:Object(R.jsxs)("div",{className:"align-middle min-w-full overflow-x-auto shadow overflow-hidden sm:rounded-lg",children:[Object(R.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(R.jsx)("thead",{children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Used"}),Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Active"})]})}),Object(R.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map((function(e){return Object(R.jsxs)("tr",{className:"bg-white",children:[Object(R.jsx)("td",{className:"max-w-0 w-full px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Object(R.jsx)("div",{className:"flex",children:Object(R.jsxs)(u.b,{to:"/admin/coupons/".concat(e.id),className:"group inline-flex space-x-2 truncate text-sm",children:[Object(R.jsx)(H.h,{className:"flex-shrink-0 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),Object(R.jsx)("p",{className:"text-gray-500 truncate group-hover:text-gray-900",children:e.code})]})})}),Object(R.jsxs)("td",{className:"px-6 py-4 text-right whitespace-nowrap text-sm text-gray-500",children:[e.value,"\u20ac"]}),Object(R.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(t=e.orders,_.filter((function(e){return t.includes(e.order_id)}))).length," times"]}),Object(R.jsx)("td",{className:"px-6 py-4 text-right whitespace-nowrap text-sm text-gray-500",children:e.active?Object(R.jsx)(H.a,{className:"flex-shrink-0 h-5 w-5 m-auto text-green-400 group-hover:text-gray-500","aria-hidden":"true"}):Object(R.jsx)(H.m,{className:"flex-shrink-0 h-5 w-5 m-auto text-red-400 group-hover:text-gray-500","aria-hidden":"true"})})]},e.id);var t}))})]}),Object(R.jsx)($e,{pagingCounter:y,limit:O,totalDocs:g,hasNextPage:w,hasPrevPage:v,setCurrentPage:x})]})})})})]})},wt=a(342);function Nt(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}var _t=function(e){var t=e.title,a=e.subtitle,r=e.enabled,s=e.handleChange;return Object(R.jsxs)(wt.a.Group,{as:"div",className:"flex items-center",children:[Object(R.jsx)(wt.a,{checked:r,onChange:s,className:Nt(r?"bg-cyan-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),children:Object(R.jsx)("span",{"aria-hidden":"true",className:Nt(r?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200")})}),Object(R.jsxs)(wt.a.Label,{as:"span",className:"ml-3",children:[Object(R.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[t," "]}),a&&Object(R.jsxs)("span",{className:"text-sm text-gray-500",children:["(",a,")"]})]})]})},kt=function(e){var t=e.setCurrent,a=Object(r.useState)(),s=Object(c.a)(a,2),n=s[0],i=s[1],m=Object(r.useState)(!1),x=Object(c.a)(m,2),b=x[0],j=x[1],p=Object(d.d)((function(e){return e.coupon})).coupon,h=Object(d.d)((function(e){return e.order})).orders,f=Object(d.c)(),g=Object(T.g)(),O=Object(T.i)().id;Object(r.useEffect)((function(){var e;f((e=O,function(){var t=Object(o.a)(l.a.mark((function t(a){var r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Se.get(e);case 3:r=t.sent,a({type:"GET_COUPON",payload:r}),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"GET_COUPON_FAILED"}),(s=t.t0.response.data.errors)&&s.forEach((function(e){return a(k(e.msg,3e3))}));case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),f(Me()),t("Coupons")}),[f,O]),Object(r.useEffect)((function(){p&&i({id:p.id,code:p.code,value:p.value,active:p.active})}),[p]);var y=function(e){return h.filter((function(t){return e&&e.includes(t.order_id)}))},v=function(){var e;window.confirm("Are you sure you want to remove this coupon?")&&(f((e=O,function(){var t=Object(o.a)(l.a.mark((function t(a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Se.remove(e);case 3:a({type:"REMOVE_COUPON",payload:e}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),(r=t.t0.response.data.errors)&&r.forEach((function(e){return a(k(e.msg,3e3))}));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}())),g.push("/admin/coupons"))};return p.failed?Object(R.jsx)(nt,{}):p.loading||!n?Object(R.jsx)(ke,{color:"auto"}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("h2",{className:"max-w-6xl mx-auto px-4 text-lg leading-6 font-medium text-gray-900 sm:px-6 lg:px-8",children:"Edit a coupon"}),Object(R.jsxs)("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0 mt-2",children:[Object(R.jsxs)("dl",{className:"sm:divide-y sm:divide-gray-200 mb-10",children:[Object(R.jsx)(ye,{title:"Coupon code",name:"code",type:"text",value:n.code,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:j}),Object(R.jsx)(ye,{title:"Value",name:"value",type:"number",value:n.value,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:j}),Object(R.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 lg:px-8",children:[Object(R.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Orders"}),Object(R.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:y(null===p||void 0===p?void 0:p.orders).length>0?Object(R.jsx)("ul",{className:"border border-gray-200 rounded-md divide-y divide-gray-200",children:y(null===p||void 0===p?void 0:p.orders).map((function(e){return Object(R.jsx)("li",{className:"pl-3 pr-4 py-3 flex items-center justify-between text-sm",children:Object(R.jsx)("div",{className:"w-0 flex-1 flex items-center",children:Object(R.jsx)(u.b,{className:"text-cyan-600 hover:text-cyan-500",to:"/admin/orders/".concat(e.id),children:Object(R.jsx)("span",{className:"ml-2 flex-1 w-0 truncate",children:e.id})})})},e.id)}))}):Object(R.jsx)("p",{children:"No orders with this coupon"})})]}),Object(R.jsx)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 lg:px-8",children:Object(R.jsx)(_t,{title:"Active",enabled:n.active,handleChange:function(){i(Object(B.a)(Object(B.a)({},n),{},{active:!n.active})),n.active===p.active?j(!0):j(!1)}})}),Object(R.jsx)("div",{className:"py-4 sm:py-5 m:px-6 lg:px-8",children:Object(R.jsx)("button",{onClick:function(){return v()},className:"inline-flex items-center text-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Remove coupon"})})]}),b&&Object(R.jsx)(_e,{save:function(){var e,t;f((e=O,t=n,function(){var a=Object(o.a)(l.a.mark((function a(r){var s,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Se.update(e,t);case 3:s=a.sent,r({type:"UPDATE_COUPON",payload:s}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),(n=a.t0.response.data.errors)&&n.forEach((function(e){return r(k(e.msg,3e3))}));case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}())),j(!1)}})]})]})},Ct={get:function(){var e=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(O,"/settings"));case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put("".concat(O,"/settings"),t);case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(O,"/settings"),t);case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(O,"/settings"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},Et=function(){return function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ct.get();case 3:a=e.sent,t({type:"GET_SETTINGS",payload:a}),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"GET_SETTINGS_FAILED",payload:void 0}),(r=e.t0.response.data.errors)&&r.forEach((function(e){return t(k(e.msg,3e3))}));case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},St={business_name:"",logo_url:"",alt_logo_url:"",welcome_email:"",order_email:"",maps_api_key:"",maps_lat:"",maps_lng:"",facebook_url:"",instagram_url:"",twitter_url:""},Pt=function(){var e=Object(d.c)(),t=function(t){var a,r=t.business_name,s=t.logo_url,n=t.alt_logo_url,c=t.welcome_email,i=t.order_email,d=t.maps_api_key,u=t.maps_lat,m=t.maps_lng,x=t.facebook_url,b=t.instagram_url,j=t.twitter_url;e((a={business_name:r,logo_url:s,alt_logo_url:n,welcome_email:{message:c,enabled:!0},order_email:{message:i,enabled:!0},maps:{api_key:d,lat:u,lng:m},social_urls:{facebook:x,instagram:b,twitter:j}},function(){var e=Object(o.a)(l.a.mark((function e(t){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ct.create(a);case 3:r=e.sent,t({type:"CREATE_SETTINGS",payload:r}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(s=e.t0.response.data.errors)&&s.forEach((function(e){return t(k(e.msg,3e3))}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:"flex-1 flex justify-between max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(R.jsx)("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Create settings"})}),Object(R.jsx)("div",{className:"py-8 px-4 shadow sm:rounded-lg sm:px-10",children:Object(R.jsx)(W.d,{initialValues:St,onSubmit:function(e){t(e)},children:Object(R.jsxs)(W.c,{className:"space-y-6",children:[Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"business_name",children:"Business name"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"business_name",name:"business_name",type:"text",autoComplete:"business_name",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"business_name"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"logo_url",children:"Logo URL"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"logo_url",name:"logo_url",type:"text",autoComplete:"logo_url",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"logo_url"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"alt_logo_url",children:"Alt Logo URL"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"alt_logo_url",name:"alt_logo_url",type:"text",autoComplete:"alt_logo_url",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"alt_logo_url"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"welcome_email",children:"Welcome email message"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"welcome_email",name:"welcome_email",type:"text",autoComplete:"welcome_email",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"welcome_email"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"order_email",children:"Order email message"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"order_email",name:"order_email",type:"text",autoComplete:"order_email",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"order_email"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"maps_api_key",children:"Google Maps API key"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"maps_api_key",name:"maps_api_key",type:"text",autoComplete:"maps_api_key",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"maps_api_key"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"maps_lat",children:"Maps latitude"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"maps_lat",name:"maps_lat",type:"number",autoComplete:"maps_lat",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"maps_lat"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"maps_lng",children:"Maps longitude"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"maps_lng",name:"maps_lng",type:"number",autoComplete:"maps_lng",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"maps_lng"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"facebook_url",children:"Facebook URL"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"facebook_url",name:"facebook_url",type:"text",autoComplete:"facebook_url",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"facebook_url"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"instagram_url",children:"Instagram URL"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"instagram_url",name:"instagram_url",type:"text",autoComplete:"instagram_url",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"instagram_url"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"twitter_url",children:"Twitter URL"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"twitter_url",name:"twitter_url",type:"text",autoComplete:"twitter_url",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"twitter_url"})]}),Object(R.jsx)("div",{children:Object(R.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-700 hover:bg-cyan-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500",children:"Create"})})]})})})]})},Ut=function(e){var t=e.setCurrent,a=Object(r.useState)(),s=Object(c.a)(a,2),n=s[0],i=s[1],u=Object(r.useState)(!1),m=Object(c.a)(u,2),x=m[0],b=m[1],j=Object(d.d)((function(e){return e.settings})),p=j.settings,h=(j.loading,Object(d.c)()),f=Object(T.g)(),g=Object(T.i)().id;Object(r.useEffect)((function(){h(Et()),t("Settings")}),[h,g]),Object(r.useEffect)((function(){p&&i({business_name:p.business_name,logo_url:p.logo_url,alt_logo_url:p.alt_logo_url,welcome_email:{message:p.welcome_email.message,enabled:!0},order_email:{message:p.order_email.message,enabled:!0},maps:{api_key:p.maps.api_key,lat:p.maps.lat,lng:p.maps.lng},social_urls:{facebook:p.social_urls.facebook,instagram:p.social_urls.instagram,twitter:p.social_urls.twitter}})}),[p]);var O=function(){h(function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ct.remove();case 3:t({type:"REMOVE_SETTINGS",payload:null}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),(a=e.t0.response.data.errors)&&a.forEach((function(e){return t(k(e.msg,3e3))}));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),f.push("/admin")};return n?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("h2",{className:"max-w-6xl mx-auto px-4 text-lg leading-6 font-medium text-gray-900 sm:px-6 lg:px-8",children:"Edit settings"}),Object(R.jsxs)("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0 mt-2",children:[Object(R.jsxs)("dl",{className:"sm:divide-y sm:divide-gray-200 mb-10",children:[Object(R.jsx)(ye,{title:"Business name",name:"business_name",type:"text",value:n.business_name,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(ye,{title:"Logo URL",name:"logo_url",type:"text",value:n.logo_url,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(ye,{title:"Alt Logo URL",name:"alt_logo_url",type:"text",value:n.alt_logo_url,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(ye,{title:"Welcome email message",name:"welcome_email",type:"text",value:n.welcome_email.message,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(ye,{title:"Order email message",name:"order_email",type:"text",value:n.order_email.message,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(ye,{title:"Google Maps API Key",name:"maps_api_key",type:"text",value:n.maps.api_key,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(ye,{title:"Google Maps Latitude",name:"maps_lat",type:"number",value:n.maps.lat,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(ye,{title:"Google Maps Longitude",name:"maps_lng",type:"number",value:n.maps.lng,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(ye,{title:"Facebook URL",name:"facebook_url",type:"text",value:n.social_urls.facebook,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(ye,{title:"Instagram URL",name:"instagram_url",type:"text",value:n.social_urls.instagram,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(ye,{title:"Twitter URL",name:"twitter_url",type:"text",value:n.social_urls.twitter,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)("div",{className:"py-4 sm:py-5 m:px-6 lg:px-8",children:Object(R.jsx)("button",{onClick:function(){return O()},className:"inline-flex items-center text-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Remove settings"})})]}),x&&Object(R.jsx)(_e,{save:function(){var e;h((e=n,function(){var t=Object(o.a)(l.a.mark((function t(a){var r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ct.update(e);case 3:r=t.sent,a({type:"UPDATE_SETTINGS",payload:r}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),(s=t.t0.response.data.errors)&&s.forEach((function(e){return a(k(e.msg,3e3))}));case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),b(!1)}}),Object(R.jsx)(G,{})]})]}):Object(R.jsx)(Pt,{})},Tt={name:"",description:""},Dt=Y.d({name:Y.f().required("Name is required"),description:Y.f().required("Description is required")}),Rt=function(e){var t=e.setCreating,a=e.allCategories,r=Object(d.c)(),s=function(){var e=Object(o.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(U(a,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("div",{className:"flex-1 flex justify-between max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[Object(R.jsx)("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Create a category"}),Object(R.jsx)("button",{onClick:function(){return t(!1)},className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"})]}),Object(R.jsx)("div",{className:"py-8 px-4 shadow sm:rounded-lg sm:px-10",children:Object(R.jsx)(W.d,{initialValues:Tt,validationSchema:Dt,onSubmit:function(e){s(e)},children:Object(R.jsxs)(W.c,{className:"space-y-6",children:[Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"name",children:"Name"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"name"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"description",children:"Description"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsx)(W.b,{id:"description",name:"description",type:"text",autoComplete:"description",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})}),Object(R.jsx)(W.a,{name:"description"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"parent_category",children:"Parent category"}),Object(R.jsx)("div",{className:"mt-1",children:Object(R.jsxs)(W.b,{as:"select",id:"parent_category",name:"parent_category",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm",children:[Object(R.jsx)("option",{value:"",children:"Select (optional)"}),a.map((function(e){return Object(R.jsx)("option",{value:e.id,children:e.name},e.id)}))]})}),Object(R.jsx)(W.a,{name:"parent_category"})]}),Object(R.jsx)("div",{children:Object(R.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-700 hover:bg-cyan-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500",children:"Create"})})]})})})]})},At=function(e){var t=e.setCurrent,a=Object(r.useState)(!1),s=Object(c.a)(a,2),n=s[0],i=s[1],m=Object(r.useState)(1),x=Object(c.a)(m,2),b=x[0],j=x[1],p=Object(r.useState)(10),h=Object(c.a)(p,2),f=h[0],g=(h[1],Object(d.d)((function(e){return e.category}))),O=g.categories,y=g.allCategories,v=g.totalDocs,w=g.limit,N=g.pagingCounter,_=g.hasPrevPage,C=g.hasNextPage,E=Object(d.c)();return Object(r.useEffect)((function(){t("Categories"),E(function(e,t){return function(){var a=Object(o.a)(l.a.mark((function a(r){var s,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,S.getAll(e,t);case 3:s=a.sent,r({type:"GET_CATEGORIES",payload:s}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),(n=a.t0.response.data.errors)&&n.forEach((function(e){return r(k(e.msg,3e3))}));case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(b,f))}),[b,f]),n?Object(R.jsx)(Rt,{allCategories:y,setCreating:i}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("div",{className:"flex-1 flex justify-between max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[Object(R.jsx)("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Categories"}),Object(R.jsx)("button",{onClick:function(){E(P()),i(!0)},className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"New category"})]}),Object(R.jsxs)("div",{className:"shadow sm:hidden",children:[Object(R.jsx)("ul",{className:"mt-2 divide-y divide-gray-200 overflow-hidden shadow sm:hidden",children:O.map((function(e){return Object(R.jsx)("li",{children:Object(R.jsx)(u.b,{to:"/admin/categories/".concat(e.id),className:"block px-4 py-4 bg-white hover:bg-gray-50",children:Object(R.jsxs)("span",{className:"flex items-center space-x-4",children:[Object(R.jsxs)("span",{className:"flex-1 flex space-x-2 truncate",children:[Object(R.jsx)(H.l,{className:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(R.jsxs)("span",{className:"flex flex-col text-gray-500 text-sm truncate",children:[Object(R.jsxs)("span",{className:"truncate",children:[Object(R.jsx)("span",{className:"text-gray-900 font-medium",children:"Category"})," ",e.name]}),Object(R.jsxs)("span",{children:[Object(R.jsx)("span",{className:"text-gray-900 font-medium",children:"Description"})," ",e.description]})]})]}),Object(R.jsx)(H.c,{className:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"})]})})},e.id)}))}),Object(R.jsx)("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200","aria-label":"Pagination",children:Object(R.jsxs)("div",{className:"flex-1 flex justify-between",children:[Object(R.jsx)("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",children:"Previous"}),Object(R.jsx)("button",{className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",children:"Next"})]})})]}),Object(R.jsx)("div",{className:"hidden sm:block",children:Object(R.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(R.jsx)("div",{className:"flex flex-col mt-2",children:Object(R.jsxs)("div",{className:"align-middle min-w-full overflow-x-auto shadow overflow-hidden sm:rounded-lg",children:[Object(R.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(R.jsx)("thead",{children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),Object(R.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parent Category"})]})}),Object(R.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map((function(e){return Object(R.jsxs)("tr",{className:"bg-white",children:[Object(R.jsx)("td",{className:"max-w-0 w-full px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Object(R.jsx)("div",{className:"flex",children:Object(R.jsxs)(u.b,{to:"/admin/categories/".concat(e.id),className:"group inline-flex space-x-2 truncate text-sm",children:[Object(R.jsx)(H.l,{className:"flex-shrink-0 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),Object(R.jsx)("p",{className:"text-gray-500 truncate group-hover:text-gray-900",children:e.name})]})})}),Object(R.jsx)("td",{className:"px-6 py-4 text-right whitespace-nowrap text-sm text-gray-500",children:e.description}),Object(R.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.parent_category?"No":"Yes"})]},e.id)}))})]}),Object(R.jsx)($e,{pagingCounter:N,limit:w,totalDocs:v,hasNextPage:C,hasPrevPage:_,setCurrentPage:j})]})})})})]})},It=function(e){var t=e.title,a=e.listItems,r=e.itemIcon,s=e.path;return Object(R.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 lg:px-8",children:[Object(R.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:t}),Object(R.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:a.length>0?Object(R.jsx)("ul",{className:"border border-gray-200 rounded-md divide-y divide-gray-200",children:a.map((function(e){return Object(R.jsx)("li",{className:"pl-3 pr-4 py-3 flex items-center justify-between text-sm",children:Object(R.jsxs)(u.b,{to:"".concat(s,"/").concat(e.id),className:"w-0 flex-1 flex items-center",children:[r,Object(R.jsx)("span",{className:"ml-2 flex-1 w-0 truncate",children:e.name})]})},e.id)}))}):Object(R.jsx)("p",{children:"No items found."})})]})},Ft=function(e){var t=e.setCurrent,a=Object(r.useState)(),s=Object(c.a)(a,2),n=s[0],i=s[1],u=Object(r.useState)(!1),m=Object(c.a)(u,2),x=m[0],b=m[1],p=Object(d.d)((function(e){return e.category})),h=p.category,f=p.allCategories,g=Object(d.c)(),O=Object(T.g)(),y=Object(T.i)().id;Object(r.useEffect)((function(){var e;g((e=y,function(){var t=Object(o.a)(l.a.mark((function t(a){var r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.get(e);case 3:r=t.sent,a({type:"GET_CATEGORY",payload:r}),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"GET_CATEGORY_FAILED"}),(s=t.t0.response.data.errors)&&s.forEach((function(e){return a(k(e.msg,3e3))}));case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),g(P()),t("Categories")}),[g,y]),Object(r.useEffect)((function(){h&&i({id:h.id,name:h.name,description:h.description})}),[h]);var v=function(){var e;window.confirm("Are you sure you want to remove this category?")&&(g((e=y,function(){var t=Object(o.a)(l.a.mark((function t(a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.remove(e);case 3:a({type:"REMOVE_CATEGORY",payload:e}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),(r=t.t0.response.data.errors)&&r.forEach((function(e){return a(k(e.msg,3e3))}));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}())),O.push("/admin/categories"))};return h.failed?Object(R.jsx)(nt,{}):h.loading||!n?Object(R.jsx)(ke,{color:"auto"}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("h2",{className:"max-w-6xl mx-auto px-4 text-lg leading-6 font-medium text-gray-900 sm:px-6 lg:px-8",children:"Edit a category"}),Object(R.jsxs)("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0 mt-2",children:[Object(R.jsxs)("dl",{className:"sm:divide-y sm:divide-gray-200 mb-10",children:[Object(R.jsx)(ye,{title:"Name",name:"name",type:"text",value:n.name,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(ye,{title:"Description",name:"description",type:"text",value:n.description,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(xt,{title:"Parent category",name:"parent_category",value:h.parent_category||"",listItems:f,updatedObject:n,setUpdatedObject:i,setHasUnsavedChanges:b}),Object(R.jsx)(It,{title:"Sub categories",listItems:h.sub_categories,itemIcon:Object(R.jsx)(j.o,{className:"flex-shrink-0 h-5 w-5","aria-hidden":"true"}),path:"/admin/categories"}),Object(R.jsx)(It,{title:"Products",listItems:h.products,itemIcon:Object(R.jsx)(j.i,{className:"flex-shrink-0 h-5 w-5","aria-hidden":"true"}),path:"/admin/products"}),Object(R.jsx)("div",{className:"py-4 sm:py-5 m:px-6 lg:px-8",children:Object(R.jsx)("button",{onClick:function(){return v()},className:"inline-flex items-center text-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Remove category"})})]}),x&&Object(R.jsx)(_e,{save:function(){var e,t;g((e=y,t=n,function(){var a=Object(o.a)(l.a.mark((function a(r){var s,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,S.update(e,t);case 3:s=a.sent,r({type:"UPDATE_CATEGORY",payload:s}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),(n=a.t0.response.data.errors)&&n.forEach((function(e){return r(k(e.msg,3e3))}));case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}())),b(!1)}})]})]})},Mt=function(){return Object(R.jsxs)(T.d,{children:[Object(R.jsx)(T.b,{exact:!0,path:"/",component:fe}),Object(R.jsx)(T.b,{exact:!0,path:"/login",component:X}),Object(R.jsx)(T.b,{exact:!0,path:"/signup",component:re}),Object(R.jsx)(J,{exact:!0,path:"/cart",component:Pe}),Object(R.jsx)(J,{exact:!0,path:"/checkout",component:ne}),Object(R.jsx)(J,{exact:!0,path:"/confirmation",component:ce}),Object(R.jsx)(J,{exact:!0,path:"/profile",component:Ce}),Object(R.jsx)(Ze,{exact:!0,path:"/admin",component:rt}),Object(R.jsx)(Ze,{exact:!0,path:"/admin/users",component:st}),Object(R.jsx)(Ze,{exact:!0,path:"/admin/users/:id",component:ct}),Object(R.jsx)(Ze,{exact:!0,path:"/admin/products",component:dt}),Object(R.jsx)(Ze,{exact:!0,path:"/admin/products/:id",component:bt}),Object(R.jsx)(Ze,{exact:!0,path:"/admin/orders",component:jt}),Object(R.jsx)(Ze,{exact:!0,path:"/admin/orders/:id",component:pt}),Object(R.jsx)(Ze,{exact:!0,path:"/admin/memberships",component:ht}),Object(R.jsx)(Ze,{exact:!0,path:"/admin/memberships/:id",component:ft}),Object(R.jsx)(Ze,{exact:!0,path:"/admin/coupons",component:vt}),Object(R.jsx)(Ze,{exact:!0,path:"/admin/coupons/:id",component:kt}),Object(R.jsx)(Ze,{exact:!0,path:"/admin/settings",component:Ut}),Object(R.jsx)(Ze,{exact:!0,path:"/admin/categories",component:At}),Object(R.jsx)(Ze,{exact:!0,path:"/admin/categories/:id",component:Ft})]})},Lt=Object(d.b)((function(e){return{settings:e.settings.settings,loading:e.settings.loading}}),{loadUser:C,getSettings:Et})((function(e){var t=e.loadUser,a=e.settings,s=e.getSettings,n=e.loading,i=Object(r.useState)(!0),l=Object(c.a)(i,2),o=l[0],d=l[1];return localStorage.token&&g(localStorage.token),Object(r.useEffect)((function(){t(),s()}),[]),Object(r.useEffect)((function(){n||setTimeout((function(){d(!1)}),1e3)}),[n]),n||o?Object(R.jsx)(ke,{fullScreen:!0}):a?Object(R.jsx)("div",{className:"app",children:Object(R.jsxs)(u.a,{children:[Object(R.jsx)(q,{}),Object(R.jsx)(Mt,{})]})}):Object(R.jsx)(Pt,{})})),Ht=a(72),Gt=a(153),qt=a(154),Bt={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"USER_LOADED":return Object(B.a)(Object(B.a)({},e),{},{isAuthenticated:!0,user:r,loading:!1});case"UPDATE_USER":return Object(B.a)(Object(B.a)({},e),{},{user:r,loading:!1});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",r),Object(B.a)(Object(B.a)({},e),{},{token:r,isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":return localStorage.removeItem("token"),Object(B.a)(Object(B.a)({},e),{},{token:null,user:null,isAuthenticated:!1,loading:!1});default:return e}},zt={user:{loading:!0},loading:!0,users:[],allUsers:[],totalDocs:0,limit:0,pagingCounter:0,hasPrevPage:!1,hasNextPage:!1},Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"GET_USER":return Object(B.a)(Object(B.a)({},e),{},{user:r,loading:!1});case"GET_USER_FAILED":return Object(B.a)(Object(B.a)({},e),{},{user:{loading:!1,failed:!0}});case"GET_USERS":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,users:r.docs,totalDocs:r.totalDocs,limit:r.limit,pagingCounter:r.pagingCounter,hasPrevPage:r.hasPrevPage,hasNextPage:r.hasNextPage});case"GET_ALL_USERS":return Object(B.a)(Object(B.a)({},e),{},{allUsers:r});case"UPDATE_SINGLE_USER":return Object(B.a)(Object(B.a)({},e),{},{user:r,loading:!1});default:return e}},Yt={message:void 0,type:void 0,timeoutId:null},Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"CREATE_NOTIFICATION":return null!==e.timeoutId&&clearTimeout(e.timeoutId),{message:r.message,type:r.type,timeoutId:r.timeoutId};case"DELETE_NOTIFICATION":return Yt;default:return e}},Qt={product:{loading:!0},loading:!0,products:[],allProducts:[],totalDocs:0,limit:0,pagingCounter:0,hasPrevPage:!1,hasNextPage:!1},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"GET_PRODUCT":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,product:r});case"GET_PRODUCT_FAILED":return Object(B.a)(Object(B.a)({},e),{},{product:{loading:!1,failed:!0}});case"GET_PRODUCTS":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,products:r.docs,totalDocs:r.totalDocs,limit:r.limit,pagingCounter:r.pagingCounter,hasPrevPage:r.hasPrevPage,hasNextPage:r.hasNextPage});case"GET_ALL_PRODUCTS":return Object(B.a)(Object(B.a)({},e),{},{allProducts:r});case"UPDATE_PRODUCT":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,product:r});case"CREATE_PRODUCT":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,products:[r].concat(Object(ut.a)(e.products))});case"REMOVE_PRODUCT":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,products:e.products.filter((function(e){return e.id!==r}))});default:return e}},Xt={order:{loading:!0},loading:!0,orders:[],allOrders:[],totalDocs:0,limit:0,pagingCounter:0,hasPrevPage:!1,hasNextPage:!1},Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"SET_ORDER_LOADING":return Object(B.a)(Object(B.a)({},e),{},{order:{loading:!0}});case"GET_ORDER":return Object(B.a)(Object(B.a)({},e),{},{order:Object(B.a)(Object(B.a)({},r),{},{loading:!1})});case"GET_ORDER_FAILED":return Object(B.a)(Object(B.a)({},e),{},{order:{loading:!1,failed:!0}});case"GET_ORDERS":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,orders:r.docs?r.docs:r,totalDocs:r.totalDocs,limit:r.limit,pagingCounter:r.pagingCounter,hasPrevPage:r.hasPrevPage,hasNextPage:r.hasNextPage});case"GET_ALL_ORDERS":return Object(B.a)(Object(B.a)({},e),{},{allOrders:r});case"UPDATE_ORDER":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,order:r});case"CREATE_ORDER":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,orders:[r].concat(Object(ut.a)(e.orders))});case"REMOVE_ORDER":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,orders:e.orders.filter((function(e){return e.id!==r}))});default:return e}},$t={membership:{loading:!0},loading:!0,memberships:[],allMemberships:[],totalDocs:0,limit:0,pagingCounter:0,hasPrevPage:!1,hasNextPage:!1},ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"GET_MEMBERSHIP":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,membership:r});case"GET_MEMBERSHIP_FAILED":return Object(B.a)(Object(B.a)({},e),{},{membership:{loading:!1,failed:!0}});case"GET_MEMBERSHIPS":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,memberships:r.docs?r.docs:r,totalDocs:r.totalDocs,limit:r.limit,pagingCounter:r.pagingCounter,hasPrevPage:r.hasPrevPage,hasNextPage:r.hasNextPage});case"GET_ALL_MEMBERSHIPS":return Object(B.a)(Object(B.a)({},e),{},{allMemberships:r});case"UPDATE_MEMBERSHIP":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,membership:r});case"CREATE_MEMBERSHIP":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,memberships:[r].concat(Object(ut.a)(e.memberships))});case"REMOVE_MEMBERSHIP":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,memberships:e.memberships.filter((function(e){return e.id!==r}))});default:return e}},ta={coupon:{loading:!0},loading:!0,coupons:[],allCoupons:[],totalDocs:0,limit:0,pagingCounter:0,hasPrevPage:!1,hasNextPage:!1},aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"GET_COUPON":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,coupon:r});case"GET_COUPON_FAILED":return Object(B.a)(Object(B.a)({},e),{},{coupon:{loading:!1,failed:!0}});case"GET_COUPONS":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,coupons:r.docs,totalDocs:r.totalDocs,limit:r.limit,pagingCounter:r.pagingCounter,hasPrevPage:r.hasPrevPage,hasNextPage:r.hasNextPage});case"GET_ALL_COUPONS":return Object(B.a)(Object(B.a)({},e),{},{allCoupons:r});case"UPDATE_COUPON":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,coupon:r});case"CREATE_COUPON":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,coupons:[r].concat(Object(ut.a)(e.coupons))});case"REMOVE_COUPON":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,coupons:e.coupons.filter((function(e){return e.id!==r}))});default:return e}},ra={loading:!0,settings:void 0},sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"GET_SETTINGS":case"GET_SETTINGS_FAILED":case"UPDATE_SETTINGS":case"CREATE_SETTINGS":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,settings:r});case"REMOVE_SETTINGS":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,settings:{}});default:return e}},na={category:{loading:!0},loading:!0,categories:[],allCategories:[],totalDocs:0,limit:0,pagingCounter:0,hasPrevPage:!1,hasNextPage:!1},ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"GET_CATEGORY":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,category:r});case"GET_CATEGORY_FAILED":return Object(B.a)(Object(B.a)({},e),{},{category:{loading:!1,failed:!0}});case"GET_CATEGORIES":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,categories:r.docs,totalDocs:r.totalDocs,limit:r.limit,pagingCounter:r.pagingCounter,hasPrevPage:r.hasPrevPage,hasNextPage:r.hasNextPage});case"GET_ALL_CATEGORIES":return Object(B.a)(Object(B.a)({},e),{},{allCategories:r});case"UPDATE_CATEGORY":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,category:r});case"CREATE_CATEGORY":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,categories:[r].concat(Object(ut.a)(e.categories))});case"REMOVE_CATEGORY":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,categories:e.categories.filter((function(e){return e.id!==r}))});default:return e}},ia=Object(Ht.combineReducers)({auth:Vt,user:Jt,notification:Wt,product:Kt,order:Zt,membership:ea,coupon:aa,category:ca,settings:sa}),la=Object(Ht.createStore)(ia,Object(Gt.composeWithDevTools)(Object(Ht.applyMiddleware)(qt.a)));a(327);n.a.render(Object(R.jsx)(d.a,{store:la,children:Object(R.jsx)(Lt,{})}),document.getElementById("root"))}},[[328,1,2]]]);
//# sourceMappingURL=main.25be8a4d.chunk.js.map